(this["webpackJsonp@pumapay/pull-payments-ui"]=this["webpackJsonp@pumapay/pull-payments-ui"]||[]).push([[3],{314:function(n,e,t){"use strict";t.d(e,"a",(function(){return l}));var i=t(23),o=t(19);function l(){var n,e=Object(o.b)().chainId,t=Object(i.d)((function(n){return n.supported_tokens}));return e&&null!==(n=t[e])&&void 0!==n?n:{}}},392:function(n,e,t){"use strict";t.d(e,"b",(function(){return M}));var i,o,l,r,a=t(26),d=t(4),c=t(714),s=t.n(c),u=t(13),b=t(81),p=t(7),m=t(99),x=t.n(m),g=t(0),h=t(38),f=t(135),j=t(314),v=t(98),y=t(485),O=t(358),w=t.n(O),S=t(19),T=t(1),M=function(n,e,t){var i,o;switch(u.d[null===n||void 0===n?void 0:n.billingModelType]||u.d[t]){case String(u.d.Single):case String(u.d.SingleDynamic):return null===n||void 0===n||null===(i=n.pullPayments[0])||void 0===i?void 0:i.paymentAmount;case String(u.d.Recurring):case String(u.d.RecurringFreeTrial):return(null===n||void 0===n?void 0:n.amount)*(null===n||void 0===n?void 0:n.pullPaymentIDs.length);case String(u.d.RecurringPaidTrial):return(null===n||void 0===n||null===(o=n.billingModel)||void 0===o?void 0:o.initialAmount)?Number(null===n||void 0===n?void 0:n.billingModel.initialAmount):Number(null===e||void 0===e?void 0:e.initialAmount)+Number(null===n||void 0===n?void 0:n.amount)*(null===n||void 0===n?void 0:n.pullPaymentIDs.length);case String(u.d.RecurringDynamic):return Number(null===n||void 0===n?void 0:n.amount)*Number(null===n||void 0===n?void 0:n.pullPaymentIDs.length)+(Number(null===n||void 0===n?void 0:n.initialAmount)?Number(null===n||void 0===n?void 0:n.initialAmount):0);default:return 0}},C=p.default.div(i||(i=Object(d.a)(["\n  .tap-main {\n    display: flex;\n    flex-direction: row-reverse;\n  }\n\n  color: #000;\n\n  .top-head {\n    display: flex;\n    flex-direction: column-reverse;\n    align-items: end;\n    width: 50%;\n  }\n\n  .top-head .icon-wrap {\n    margin-top: 20px;\n    margin-right: 15px;\n    display: flex;\n    align-items: flex-start;\n    width: 50%;\n    justify-content: end;\n    cursor: pointer;\n  }\n\n  .top-head .icon-wrap img {\n    margin-left: 5px;\n  }\n\n  .heading {\n    h3 {\n      font-weight: 400;\n      margin-bottom: 5px;\n    }\n\n    p {\n      font-size: 14px;\n      color: #756f82;\n      margin-top: 0;\n    }\n  }\n\n  &.open {\n    padding-left: 220px;\n    padding-right: 2rem;\n  }\n\n  .table-top {\n    margin-top: 30px;\n    margin-bottom: 1rem;\n    justify-content: space-between;\n  }\n\n  .subscription-wrapper {\n    .btn-wrap .align-btn {\n      display: flex;\n      align-items: center;\n\n      button.btn-theme-outlined {\n        background: #fff;\n        border: 1px solid #b2acbf;\n        padding: 9px 25px;\n        border-radius: 6px;\n        font-size: 12px;\n        min-width: 97px;\n      }\n    }\n\n    .btn-wrap {\n      margin-top: 20px;\n\n      .align-btn button {\n        margin-right: 5px;\n      }\n    }\n\n    h3,\n    h4,\n    h5 {\n      font-weight: 500;\n    }\n\n    .bg-back {\n      background: #f8f5ff;\n      padding: 10px 20px;\n    }\n\n    .bg-back .details-wrapper {\n      display: flex;\n    }\n\n    .bg-back .details-wrapper .items {\n      width: 160px;\n    }\n\n    .bg-back .details-wrapper .items p {\n      margin-bottom: 0;\n      font-size: 12px;\n      color: #444;\n    }\n\n    .bg-back .details-wrapper .items h5,\n    .bg-back .details-wrapper .items h3 {\n      margin-top: 5px;\n    }\n  }\n\n  .pagination {\n    display: flex;\n    justify-content: flex-end;\n    margin-top: 20px;\n    margin-bottom: 40px;\n\n    span {\n      line-height: 2rem;\n      margin-right: 1rem;\n    }\n\n    select {\n      border: none;\n    }\n\n    .navigation {\n      display: flex;\n\n      p {\n        background: #ededed;\n        border-radius: 5px;\n        padding: 8px 14px;\n        margin: 0 5px;\n        cursor: pointer;\n\n        #navigationOne {\n          transform: rotate(180deg);\n        }\n      }\n    }\n  }\n\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n\n  .top-wrap {\n    margin-top: 60px;\n    display: flex;\n    justify-content: space-between;\n    width: 50%;\n\n    .total-earning {\n      width: 300px;\n      border: 0;\n    }\n  }\n\n  .select-drop {\n    display: flex;\n\n    select {\n      padding: 10px;\n      border-radius: 20px;\n      border: 1px solid #d9d9d9;\n      margin: 0 20px;\n      font-size: 13px;\n    }\n\n    button.table-top-btn {\n      &:hover {\n        background: #ddd;\n      }\n\n      &:active {\n        background: #ddd;\n      }\n\n      padding: 10px 19px;\n      border-radius: 20px;\n      border: 1px solid #d9d9d9;\n      margin: 0 10px;\n      font-size: 13px;\n      background: transparent;\n    }\n  }\n\n  @media screen and (max-width: 1366px) {\n    .select-drop button.table-top-btn {\n      padding: 7px 19px;\n      font-size: 11px;\n    }\n\n    .new-billing-model {\n      font-size: 11px;\n      display: flex;\n      white-space: nowrap;\n      align-items: center;\n    }\n\n    .table-top .select-drop select {\n      font-size: 11px;\n      padding: 7px;\n    }\n\n    .new-billing-model a {\n      width: 22px;\n      height: 22px;\n      font-size: 22px;\n      line-height: 21px;\n    }\n\n    h3 {\n      font-size: 14px;\n    }\n\n    .export {\n      font-size: 11px;\n      display: flex;\n      align-items: center;\n    }\n  }\n"]))),N=p.default.div(o||(o=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  h3 {\n    font-weight: 400;\n    width: 30%;\n  }\n  .new-billing-model {\n    font-size: 14px;\n    button {\n      padding: 0px;\n      border-radius: 50%;\n      width: 35px;\n      height: 35px;\n      border: 0;\n      background: #7023ff;\n      color: #fff;\n      font-size: 26px;\n      line-height: 35px;\n      margin-left: 10px;\n      cursor: pointer;\n      :hover {\n        background: #9e70f5;\n      }\n    }\n  }\n\n  .react-daterange-picker > .react-daterange-picker__wrapper {\n    border-radius: 20px;\n    border: 1px solid #d9d9d9;\n    box-shadow: inset 0 2px 2px #e9e9e9;\n    font-size: 13px;\n    padding: 6px 10px 5px;\n  }\n  .csv-link {\n    padding: 10px 15px;\n    border-radius: 20px;\n    border: 1px solid #d9d9d9;\n    margin: 0 20px 0 15px;\n    text-decoration: none;\n    font-size: 13px;\n    color: inherit;\n  }\n"]))),k=p.default.table(l||(l=Object(d.a)(["\n  .empty-table-row {\n    text-align: center;\n    font-size: 1rem;\n    line-height: 2rem;\n  }\n  button.action-btn:disabled {\n    background-color: #edeef2;\n    color: #888d9b;\n  }\n  margin-bottom: 100px;\n  border-collapse: collapse;\n  border-spacing: none;\n  width: 100%;\n  border: 1px solid #ddd;\n  caption-side: bottom;\n  empty-cell: show | hide;\n  empty-cell is a property of table or the cells themselves\n \nvertical-align: baseline | sub | super | text-top |\n                text-bottom | middle | top | bottom |\n                <percentage> | <length>\n \n   tbody {\n    vertical-align: top;\n  }\n  td,\n  th {\n    border: 1px solid #ccc;\n  }\n  thead tr th:nth-child(3) {\n    width: 10%;\n  }\n\n  th:nth-child(2) {\n    width: 20%;\n  }\n\n  thead tr th:nth-child(7) {\n    width: 10%;\n  }\n  // td:nth-child(3){\n  //   color:#7023FF;\n  // }\n  td {\n    padding: 10px 10px;\n    font-size: 12px;\n    border: 1px solid #eae8ee;\n    color: #756f82;\n    :first-child {\n      border-left: none;\n    }\n    :last-child {\n      border-right: none;\n    }\n  }\n  th {\n    padding: 10px 10px;\n    font-size: 12px;\n    border: 1px solid #eae8ee;\n    text-align: left;\n    font-weight: normal;\n    :first-child {\n      border-left: none;\n    }\n    :last-child {\n      border-right: none;\n    }\n  }\n  tbody {\n    position: relative;\n  }\n\n  tbody tr {\n    background-color: #fff;\n    :hover {\n      background-color: #f7f6f9;\n    }\n  }\n  thead > tr {\n    background-color: #f7f6f9;\n  }\n  tbody > span {\n    position: absolute;\n    left: 48%;\n    top: 22px;\n  }\n  small {\n    padding: 7px;\n    border-radius: 7px;\n  }\n  small.SUCCESS {\n    color: #00996d;\n    background: #e5fff8;\n  }\n  small.PENDING {\n    color: #b28824;\n    background: #fff7e5;\n  }\n  small.REJECTED {\n    color: #ff647c;\n    background: #ffe5e9;\n  }\n  .loader-main {\n    position: relative;\n    margin: 1rem auto;\n    left: 50%;\n  }\n  .action-btn {\n    width: 120px;\n    height: 40px;\n    font-size: 14px;\n    border-radius: 10px;\n    display: inline-block;\n    padding: 5px !important;\n  }\n"]))),P=p.default.a(r||(r=Object(d.a)(["\n&:hover{\n  .sidebar-text{\n    color: #7023FF;\n  }\n  .default{\n    display: none;\n  }\n  .focus{\n    display:inline;\n  }\n}\ndisplay: flex;\nmargin-bottom: 2px;\ntext-decoration: none;\n.focus{\n  display:none;\n}\nimg{\n  margin-right: 10px;\n}\n  }\n"])));e.a=function(n){var e,t=n.type,i=n.subscriptionsData,o=n.billingModel,l=n.billingModelType,r=Object(S.b)().account,d=Object(h.h)().pathname,c=Object(h.g)(),p=Object(j.a)(),m=Object(g.useState)(null),O=Object(a.a)(m,2),D=O[0],R=O[1],I=Number(x()().unix()),F=Object(g.useState)(null),z=Object(a.a)(F,2),A=z[0],E=z[1],L=Object(g.useState)(null),Y=Object(a.a)(L,2),B=Y[0],W=Y[1],U=Object(g.useState)(null),q=Object(a.a)(U,2),_=q[0],J=q[1],V=Object(g.useState)(null),G=Object(a.a)(V,2),H=G[0],X=G[1],K=Object(g.useState)(null),Q=Object(a.a)(K,2),Z=Q[0],$=Q[1],nn=Object(g.useState)(null),en=Object(a.a)(nn,2),tn=en[0],on=en[1],ln=Object(g.useState)(null),rn=Object(a.a)(ln,2),an=rn[0],dn=rn[1],cn=Object(g.useState)([{id:0,value:"Status: All"},{id:1,value:"ACTIVE"},{id:2,value:"CANCELLED"},{id:2,value:"COMPLETED"}]),sn=Object(a.a)(cn,2),un=sn[0],bn=(sn[1],function(){for(var n=(new Date).getFullYear(),e=(new Date).getMonth()+1,t=x()(n+"-"+e,"YYYY-MM").daysInMonth(),i=[],o=(new Date).getDate();t;){var l=x()().date(t);t<=o&&i.push(l.format("MM/DD/YYYY")),t--}return i}()),pn=function(n){var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;E(null),J(null),X(null),W(null),R(null),"today"===n&&(e=x()().unix(),E(Number(e))),"yesterday"===n&&(e=x()().subtract(1,"days").unix(),W(Number(e))),"week"===n&&(e=x()().subtract(1,"week").unix(),J(Number(e))),"month"===n&&(e=x()().subtract(bn.length-1,"month").unix(),X(Number(e))),"dateRange"===n&&(on(Number(x()(null===t||void 0===t?void 0:t[0]).unix())),dn(Number(x()(null===t||void 0===t?void 0:t[1]).unix())),$(t))},mn=function(n){var e=Object(u.r)(t===u.f.MyCustomers?u.d[l]:u.d[n.billingModelType])?Number(n.startTimestamp):Number(n.pullPayments[0].executionTimestamp);if(!D)return A?new Date(1e3*e).getDate()===new Date(1e3*A).getDate():B?new Date(1e3*e).getDate()===new Date(1e3*B).getDate():_?e>=_&&e<=I:H?e>=H&&e<=I:Z?e>=tn&&e<=an:n;switch(D){case"ACTIVE":return("0"===String(n.cancelTimestamp)||null===n.cancelTimestamp)&&Number(n.numberOfPayments)>0;case"CANCELLED":return Number(n.cancelTimestamp)>0;case"COMPLETED":return 0===Number(n.numberOfPayments);default:return n}},xn=(l===u.d.Single||(l===u.d.SingleDynamic||u.d.RecurringDynamic),["Unique Ref. Id","Name","Type","No. of Payments","Price","Subscription Date","Last Payment","Next Payment","Status","Total Amount","Action"]),gn=["Unique Ref. Id","Wallet","No. of Payments","Trial Period","First Payment","Last Payment","Next Payment","Status","Total Amount"],hn=["Unique Ref. Id","Wallet","No. of Payments","Trial Period","Initial Amount","First Payment","Last Payment","Next Payment","Status","Total Amount"],fn=["Unique Ref. Id","Name","Wallet","Trial Type","First Payment","Last Payment","Next Payment","Status","Total Amount"],jn=["Unique Ref. Id","Wallet","No. of Payments","First Payment","Last Payment","Next Payment","Status","Total Amount"],vn=["Unique Ref. Id","Name","Wallet","Payment Date","Total Amount"],yn=["Unique Ref. Id","Wallet","Payment Date","Total Amount"],On=Object(g.useState)(10),wn=Object(a.a)(On,2),Sn=wn[0],Tn=wn[1],Mn=Object(g.useState)(1),Cn=Object(a.a)(Mn,2),Nn=Cn[0],kn=Cn[1],Pn=Object(g.useState)(1),Dn=Object(a.a)(Pn,2),Rn=Dn[0],In=Dn[1],Fn=Object(g.useState)(!1),zn=Object(a.a)(Fn,2),An=zn[0],En=zn[1],Ln=Object(g.useState)(null),Yn=Object(a.a)(Ln,2),Bn=Yn[0],Wn=Yn[1],Un=Object(g.useState)(null),qn=Object(a.a)(Un,2),_n=qn[0],Jn=qn[1],Vn=Object(g.useState)(!1),Gn=Object(a.a)(Vn,2),Hn=Gn[0],Xn=Gn[1];return Object(T.jsxs)(C,{children:[Object(T.jsxs)(N,{className:"table-top",children:[Object(T.jsx)("h3",{children:t===u.f.MySubscriptions?"My Subscriptions":"Customers"}),Object(T.jsxs)("div",{className:"select-drop",children:[t===u.f.MySubscriptions||Object(u.r)(u.d[l])&&Object(T.jsx)("select",{onChange:function(n){var e=n.target.value;R(e),J(null),X(null),W(null),E(null)},children:null===un||void 0===un?void 0:un.map((function(n,e){return Object(T.jsx)("option",{value:n.value,children:n.value},e)}))}),Object(T.jsx)(s.a,{monthPlaceholder:"MM",dayPlaceholder:"DD",yearPlaceholder:"YYYY",onChange:function(n){return pn("dateRange",n)},value:Z}),Object(T.jsx)("button",{className:"table-top-btn",onClick:function(){return pn("today")},children:"Today"}),Object(T.jsx)("button",{className:"table-top-btn",onClick:function(){return pn("yesterday")},children:"Yesterday"}),Object(T.jsx)("button",{className:"table-top-btn",onClick:function(){return pn("week")},children:"Week"}),Object(T.jsx)("button",{className:"table-top-btn",onClick:function(){return pn("month")},children:"Month"})]})]}),Object(T.jsxs)(k,{children:[Object(T.jsx)("thead",{children:Object(T.jsx)("tr",{children:function(){switch(l){case String(u.d.Single):return yn;case String(u.d.SingleDynamic):return vn;case String(u.d.RecurringDynamic):return fn;case String(u.d.Recurring):return jn;case String(u.d.RecurringPaidTrial):return hn;case String(u.d.RecurringFreeTrial):return gn;default:return xn}}().map((function(n,e){return Object(T.jsx)("th",{children:n},e)}))})}),Object(T.jsx)("tbody",{children:null===i?Object(T.jsx)("tr",{children:Object(T.jsx)("td",{colSpan:12,children:Object(T.jsx)("div",{children:Object(T.jsx)(b.a,{className:"loader-main",size:"3rem"})})})}):(null===i||void 0===i||null===(e=i.filter(mn))||void 0===e?void 0:e.length)>0?function(n){var e=(Nn-1)*Sn,t=e+Sn;return null===n||void 0===n?void 0:n.slice(e,t)}(null===i||void 0===i?void 0:i.filter(mn)).map((function(n,e){var i,a,s,b,m,g,h,f,j,y,O,S,C,N,k;return Object(T.jsxs)("tr",{children:[Object(T.jsxs)("td",{children:[" ",null===n||void 0===n?void 0:n.uniqueReference]}),(t===u.f.MySubscriptions||Object(u.t)(u.d[l]))&&Object(T.jsx)("td",{children:Object(u.t)(u.d[n.billingModelType])&&!(null===n||void 0===n?void 0:n.name)?"Dynamic":(null===n||void 0===n||null===(i=n.billingModel)||void 0===i?void 0:i.name)?null===n||void 0===n||null===(a=n.billingModel)||void 0===a?void 0:a.name:null===n||void 0===n?void 0:n.name}),t===u.f.MySubscriptions&&Object(T.jsx)("td",{children:u.c[u.d[null===n||void 0===n?void 0:n.billingModelType]]}),t===u.f.MyCustomers&&Object(T.jsx)("td",{style:{cursor:"pointer"},onClick:function(){return function(n){var e=n.id,i=n.billingModelId;t===u.f.MyCustomers&&c.push({pathname:"/merchant/transaction-details",search:"?billing-model-type=".concat(l,"&billing-model-id=").concat(i,"&subscription-id=").concat(e)})}({id:null===n||void 0===n?void 0:n.id,billingModelId:null!==(null===n||void 0===n?void 0:n.billingModelId)?null===n||void 0===n?void 0:n.billingModelId:null===o||void 0===o?void 0:o.id})},children:Object(T.jsx)(P,{className:"active",children:null===n||void 0===n?void 0:n.subscriber})}),String(u.d.RecurringDynamic)==u.d[l]?Object(T.jsx)("td",{children:u.b[null===o||void 0===o?void 0:o.trialType]}):Object(u.r)(u.d[l])||Object(u.r)(u.d[n.billingModelType])?Object(T.jsxs)("td",{children:[n.pullPaymentIDs.length,"/",Object(u.u)(u.d[l])||t!==u.f.MyCustomers?null===n||void 0===n||null===(s=n.billingModel)||void 0===s?void 0:s.numberOfPayments:null===o||void 0===o?void 0:o.numberOfPayments,Object(u.u)(u.d[l])&&t===u.f.MyCustomers?null===o||void 0===o?void 0:o.totalPayments:null===n||void 0===n?void 0:n.totalPayments]}):t===u.f.MySubscriptions&&Object(T.jsx)("td",{children:"1/1"}),t===u.f.MySubscriptions&&(Object(u.t)(u.d[n.billingModelType])?Object(T.jsx)("td",{children:"Dynamic price"}):Object(T.jsxs)("td",{children:[Object(u.m)((null===n||void 0===n?void 0:n.amount)?null===n||void 0===n?void 0:n.amount.toString():null===o||void 0===o?void 0:o.amount.toString(),null===p||void 0===p||null===(b=p[n.settlementToken])||void 0===b?void 0:b.decimals.toString()).toString(),"\xa0",null===p||void 0===p||null===(m=p[n.settlementToken])||void 0===m?void 0:m.symbol,Object(T.jsxs)("span",{children:["\xa0 in"," ",null===p||void 0===p||null===(g=p[n.paymentToken])||void 0===g?void 0:g.symbol]})]})),t===u.f.MyCustomers&&(Object(u.v)(u.d[l])||Object(u.v)(u.d[n.billingModelType]))&&Object(T.jsx)("td",{children:w()(1e3*Number(null===o||void 0===o?void 0:o.trialPeriod),{largest:1,round:!0})}),t===u.f.MyCustomers&&(u.d[o.billingModelType]===u.d.RecurringPaidTrial||u.d[l]===u.d.RecurringPaidTrial)&&Object(T.jsxs)("td",{children:[Object(u.m)(null===o||void 0===o?void 0:o.initialAmount.toString(),null===p||void 0===p||null===(h=p[n.settlementToken])||void 0===h?void 0:h.decimals.toString()).toString(),"\xa0",null===p||void 0===p||null===(f=p[n.settlementToken])||void 0===f?void 0:f.symbol]}),Object(u.r)(u.d[l])||Object(u.r)(u.d[n.billingModelType])?Object(T.jsxs)("td",{children:[" ",x()(1e3*Number(null===n||void 0===n?void 0:n.startTimestamp)).format("lll")]}):Object(T.jsxs)("td",{children:[" ",x()(1e3*Number(null===n||void 0===n||null===(j=n.pullPayments)||void 0===j||null===(y=j[0])||void 0===y?void 0:y.executionTimestamp)).format("lll")]}),Object(u.r)(u.d[l||(null===n||void 0===n?void 0:n.billingModelType)])?u.d[l||(null===n||void 0===n?void 0:n.billingModelType)]!==u.d.RecurringFreeTrial&&u.d[l||(null===n||void 0===n?void 0:n.billingModelType)]!==u.d.RecurringFreeTrial&&u.d[l||(null===n||void 0===n?void 0:n.billingModelType)]!==u.d.RecurringDynamic||0!==Number(null===n||void 0===n?void 0:n.lastPaymentTimestamp)?Object(T.jsxs)("td",{children:[" ",x()(1e3*Number(null===n||void 0===n?void 0:n.lastPaymentTimestamp)).format("lll")]}):Object(T.jsx)("td",{children:"No initial payment yet"}):t===u.f.MySubscriptions&&Object(T.jsxs)("td",{children:[" ",x()(1e3*Number(null===n||void 0===n||null===(O=n.pullPayments)||void 0===O||null===(S=O[0])||void 0===S?void 0:S.executionTimestamp)).format("lll")]}),Object(u.r)(u.d[l])||Object(u.r)(u.d[n.billingModelType])?Object(T.jsxs)("td",{children:[" ",x()(1e3*Number(null===n||void 0===n?void 0:n.nextPaymentTimestamp)).format("lll")]}):t===u.f.MySubscriptions&&Object(T.jsx)("td",{children:"No future payment"}),Object(u.r)(u.d[l])||Object(u.r)(u.d[n.billingModelType])?Object(T.jsx)(T.Fragment,{children:Number((null===n||void 0===n?void 0:n.numberOfPayments)?null===n||void 0===n?void 0:n.numberOfPayments:null===n||void 0===n?void 0:n.totalPayments)>0&&(!(null===n||void 0===n?void 0:n.totalPayments)||(null===n||void 0===n?void 0:n.totalPayments)>(null===n||void 0===n?void 0:n.pullPaymentIDs.length))?Object(T.jsx)(T.Fragment,{children:Number(null===n||void 0===n?void 0:n.cancelTimestamp)>0?Object(T.jsxs)("td",{children:[" ","CANCELLED",Object(T.jsx)("br",{}),Object(T.jsxs)("span",{style:{color:"#999",fontSize:"0.7rem"},children:["by"," ",n.cancelledBy===r&&d.includes("customer")||n.cancelledBy!==r&&d.includes("merchant")?"Customer":"Merchant"]})," "]}):Object(T.jsx)("td",{children:" ACTIVE "})}):Object(T.jsx)("td",{children:" COMPLETED "})}):Object(T.jsx)(T.Fragment,{children:t===u.f.MySubscriptions&&Object(T.jsx)("td",{children:" COMPLETED "})}),Object(T.jsxs)("td",{children:[M(n,o,l)/Math.pow(10,Number(null===p||void 0===p||null===(C=p[n.settlementToken])||void 0===C?void 0:C.decimals)),"\xa0",null===p||void 0===p||null===(N=p[n.settlementToken])||void 0===N?void 0:N.symbol,t===u.f.MySubscriptions&&Object(T.jsxs)("span",{children:["\xa0 in"," ",null===p||void 0===p||null===(k=p[n.paymentToken])||void 0===k?void 0:k.symbol]})]}),t===u.f.MySubscriptions&&Object(T.jsx)("td",{children:Object(T.jsx)(v.b,{className:"action-btn",onClick:function(){var e,t;e=null===n||void 0===n?void 0:n.id,t=u.d[null===n||void 0===n?void 0:n.billingModelType],Wn(e),Jn(t),En(!0)},disabled:0===Number((null===n||void 0===n?void 0:n.numberOfPayments)?null===n||void 0===n?void 0:n.numberOfPayments:null===n||void 0===n?void 0:n.totalPayments)||Number(null===n||void 0===n?void 0:n.cancelTimestamp)>0||!!(null===n||void 0===n?void 0:n.totalPayments)&&Number(null===n||void 0===n?void 0:n.totalPayments)===(null===n||void 0===n?void 0:n.pullPaymentIDs.length),children:"Cancel"})})]},e)})):Object(T.jsx)("tr",{children:Object(T.jsx)("td",{colSpan:12,children:Object(T.jsx)("div",{className:"empty-table-row",children:Object(T.jsx)("span",{children:"No Subscriptions"})})})})})]}),Object(T.jsxs)("div",{className:"pagination",children:[Object(T.jsxs)("span",{children:["Show:",Object(T.jsxs)("select",{onChange:function(n){Tn(parseInt(n.target.value)),kn(1)},children:[Object(T.jsx)("option",{value:"10",children:"10 Rows"}),Object(T.jsx)("option",{value:"25",children:"25 Rows"}),Object(T.jsx)("option",{value:"50",children:"50 Rows"}),Object(T.jsx)("option",{value:"100",children:"100 Rows"}),")"]})]}),Object(T.jsxs)("div",{className:"navigation",children:[Object(T.jsx)("p",{onClick:function(){1!=Rn&&In(Rn-Sn),kn((function(n){return Math.max(n-1,1)}))},children:Object(T.jsx)("img",{src:f.default,id:"navigationOne",alt:"arrows"})}),Object(T.jsx)("p",{onClick:function(){var n=Math.ceil(((null===i||void 0===i?void 0:i.length)||1)/Sn);Rn+Sn<(null===i||void 0===i?void 0:i.length)&&In(Rn+Sn),kn((function(e){return Math.min(e+1,n)}))},children:Object(T.jsx)("img",{src:f.default,alt:"arrows"})})]})]}),Object(T.jsx)(y.a,{cancelSubscriptionId:Bn,billingModelType:_n,showCancelModal:An,setShowCancelModal:En,isLoading:Hn,setIsLoading:Xn})]})}},485:function(n,e,t){"use strict";var i,o,l,r,a,d,c,s,u,b,p=t(3),m=t.n(p),x=t(37),g=t(26),h=t(4),f=t(91),j=t(156),v=t(98),y=t(7),O=t(125),w=t(0),S=t(13),T=t(62),M=t(19),C=t(176),N=t(29),k=t(23),P=t(81),D=t(1),R=y.default.div(i||(i=Object(h.a)(["\n  ","\n  margin: 0;\n  padding: 0;\n  width: 100%;\n"])),(function(n){return n.theme.flexColumnNoWrap})),I=y.default.div(o||(o=Object(h.a)(["\n  margin-left: 0;\n\n  .AutoColumnSub {\n    #cancelSub {\n      border: none;\n    }\n\n    #pOne {\n      color: #756f82;\n      marginbottom: -8px;\n    }\n\n    #pTow {\n      color: #756f82;\n    }\n  }\n"]))),F=y.default.div(l||(l=Object(h.a)(['\n  color: #000;\n\n  span.tags {\n    color: #f92672;\n    font-size: 15px;\n  }\n\n  .code-wrap .body {\n    color: #e6db74;\n    font-size: 15px;\n    line-height: 2;\n    padding-left: 20px;\n  }\n\n  .code-wrap .body span.attribute {\n    color: #a6e22e;\n  }\n\n  .tab-menu {\n    display: flex;\n    border-bottom: 1px solid #ddd;\n    margin-bottom: 20px;\n    font-size: 14px;\n\n    .tab-item {\n      padding: 7px 9px;\n      color: #756F82;\n      cursor: pointer;\n    }\n\n    .tab-item.active {\n      color: #7023FF;\n      border-bottom: 2px solid #7023FF;\n    }\n  }\n\n  .tab-wrapper {\n    background: #F8F5FF;\n    padding: 20px;\n    width: 100%;\n    max-width: 100%;\n    margin-bottom: 40px;\n    margin-top: 0;\n    text-align: center;\n\n    .code-copy {\n      #CopyButtonPrimary {\n        color: red;\n      }\n    }\n\n    input[type="text"] {\n      height: 45px;\n      display: block;\n      margin: auto auto 18px;\n      max-width: 300px;\n      width: 100%;\n      border: 1px solid #ddd;\n      border-radius: 4px;\n      padding: 0px 12px;\n    }\n\n    a {\n      color: #7023ff;\n      text-decoration: none;\n      font-size: 16px;\n    }\n\n    .XFlix {\n      font-weight: bold;\n      color: #000;\n    }\n\n    .tab-content .tab-pane {\n      display: none;\n\n      &.active {\n        display: block;\n      }\n\n      h3 {\n        font-size: 16px;\n        font-weight: 500;\n        padding: 7px 7px 7px 200px;\n        text-align: left;\n        margin: 0;\n      }\n\n      .btn-theme {\n        background: #7023FF;\n        border: 0;\n        padding: 12px 40px;\n        border-radius: 10px;\n        color: #fff;\n        font-size: 14px;\n      }\n\n      p.power {\n        font-size: 9px;\n        color: #B2ACBF;\n      }\n\n      p {\n        font-size: 14px;\n        color: #756F82;\n        margin-bottom: 20px;\n      }\n\n      .notice-box {\n        box-shadow: 2px 5px 10px 2px #4a435926;\n        border-radius: 15px;\n        padding: 30px 30px 80px;\n        text-align: center;\n        margin-bottom: 20px;\n      }\n\n      .code-box {\n        background: #1A1526;\n        color: #cbcbcb;\n        padding: 10px 20px;\n        border-radius: 8px;\n\n        table tr td:first-child {\n          padding: 0 20px 0 0;\n        }\n\n        .code-copy {\n          display: flex;\n          justify-content: space-between;\n        }\n      }\n\n      .scroll {\n        padding: 4px;\n        width: 100%;\n        height: 200px;\n        overflow-x: auto;\n        overflow-y: auto;\n        background-color: #000;\n        color: #fff;\n        text-align: left;\n        line-height: 25px;\n        margin: 4px 4px 20px;\n      }\n    }\n']))),z=y.default.div(r||(r=Object(h.a)(["\n  position: absolute;\n  right: 1rem;\n  top: 14px;\n\n  &:hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n"]))),A=Object(y.default)(O.a)(a||(a=Object(h.a)(["\n  path {\n    stroke: ",";\n  }\n"])),(function(n){return n.theme.text4})),E=y.default.div(d||(d=Object(h.a)(["\n  position: relative;\n\n  h5 {\n    margin: 0 0 0.5rem;\n    font-size: 1rem;\n    font-weight: 400;\n  }\n\n  h5:last-child {\n    margin-bottom: 0px;\n  }\n\n  h4 {\n    margin-top: 0;\n    font-weight: 500;\n  }\n"]))),L=y.default.div(c||(c=Object(h.a)(["\n  ",";\n  padding: 1rem 1rem;\n  font-weight: 500;\n  color: ",";\n  ",";\n"])),(function(n){return n.theme.flexRowNoWrap}),(function(n){return"blue"===n.color?function(n){return n.theme.primary1}:"inherit"}),(function(n){return n.theme.mediaWidth.upToMedium(s||(s=Object(h.a)(["\n    padding: 1rem;\n  "])))})),Y=y.default.div(u||(u=Object(h.a)(["\n  background-color: ",";\n  background-color: #f8f5ff;\n  padding: 2rem;\n  border-bottom-left-radius: 20px;\n  border-bottom-right-radius: 20px;\n\n  .sideContent {\n    .tab-wrapper {\n    }\n\n    .tab-footer {\n      .code-copy {\n        display: flex;\n        justify-content: flex-end;\n\n        #CodeCopyCancelButton {\n          border-color: #b2acbf;\n          margin-right: 10px;\n          background: transparent;\n          color: #000;\n          width: 120px;\n          display: inline-block;\n          padding: 8px;\n          border-radius: 10px;\n        }\n\n        #CodeCopyOkButton {\n          border-color: #7023ff;\n          margin-right: 10px;\n          background: #7023ff;\n          color: #fff;\n          width: 120px;\n          display: inline-block;\n          padding: 8px;\n          border-radius: 10px;\n          &.disabled {\n            background-color: #edeef2;\n            color: #888d9b;\n            box-shadow: none;\n            border: 1px solid transparent;\n            outline: none;\n            cursor: not-allowed;\n          }\n        }\n      }\n    }\n  }\n\n  ",";\n"])),(function(n){return n.theme.bg2}),(function(n){return n.theme.mediaWidth.upToMedium(b||(b=Object(h.a)(["padding: 1rem"])))})),B=function(n){var e=n.cancelSubscriptionId,t=n.billingModelType,i=n.cancelSubscriptionModal,o=n.setCancelSubscriptionModal,l=n.isLoading,r=n.setIsLoading,a=Object(M.b)(),d=a.account,c=a.chainId,s=Object(k.c)(),u=Object(N.i)(),b=Object(N.d)(),p=Object(N.f)(),h=Object(N.h)(),y=Object(w.useState)(!1),O=Object(g.a)(y,2),C=O[0],B=O[1],W=function(){var n=Object(x.a)(m.a.mark((function n(){var i,l;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c&&d){n.next=2;break}return n.abrupt("return");case 2:n.prev=2,n.t0=t,n.next=n.t0===String(S.d.RecurringDynamic)?6:n.t0===String(S.d.Recurring)?8:n.t0===String(S.d.RecurringPaidTrial)?10:n.t0===String(S.d.RecurringFreeTrial)?12:(n.t0===String(S.d.SingleDynamic)||(n.t0,String(S.d.Single)),14);break;case 6:return i=b,n.abrupt("break",15);case 8:return i=u,n.abrupt("break",15);case 10:return i=h,n.abrupt("break",15);case 12:return i=p,n.abrupt("break",15);case 14:return n.abrupt("return");case 15:return n.next=17,i.estimateGas.cancelSubscription(e);case 17:return l=n.sent,r(!0),n.next=21,i.cancelSubscription(e,{gasLimit:Object(S.i)(l)}).then(function(){var n=Object(x.a)(m.a.mark((function n(t){var i,l;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"Cancel Billing Model Subscription",i=t.hash,l={subscriptionId:e},s(Object(T.a)({hash:i,from:d,chainId:c,bmCancellation:l,summary:"Cancel Billing Model Subscription"})),n.next=6,t.wait(S.g);case 6:r(!1),o(!1);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(n){throw r(!1),console.debug("Failed to cancel subscription. Reason: ".concat(n.message)),n}));case 21:return n.abrupt("return",n.sent);case 24:n.prev=24,n.t1=n.catch(2),r(!1),console.error("Failed to cancel subscription. Reason: ".concat(n.t1.message));case 28:case"end":return n.stop()}}),n,null,[[2,24]])})));return function(){return n.apply(this,arguments)}}();return Object(D.jsx)(R,{children:Object(D.jsx)(F,{className:"cancel_subs",children:Object(D.jsxs)(E,{children:[Object(D.jsx)(z,{onClick:function(){return o(!i)},children:Object(D.jsx)(A,{})}),Object(D.jsx)(L,{children:Object(D.jsx)(I,{children:Object(D.jsxs)(f.a,{gap:"md",className:"AutoColumnSub",children:[Object(D.jsx)(j.a,{title:"Cancel Subscription",id:"cancelSub"}),Object(D.jsx)("p",{id:"pOne",children:"You can cancel your subscription and prevent the merchant from charging your wallet again. Please note this cannot be undone."}),Object(D.jsx)("p",{id:"pTwo",children:"Are you sure you want to cancel this subscription?"})]})})}),Object(D.jsx)(Y,{children:Object(D.jsxs)("div",{className:"sideContent",children:[Object(D.jsxs)("div",{className:"tab-wrapper",children:[Object(D.jsxs)("p",{children:["Type the word ",Object(D.jsx)("span",{className:"XFlix",children:"CANCEL "})," in the input field below."]}),Object(D.jsx)("input",{type:"text",style:{borderColor:C?"green":"red",outlineColor:C?"green":"red"},onChange:function(n){var e=n.target.value;B("CANCEL"===e.toUpperCase())},placeholder:"Type here cancel"}),Object(D.jsxs)("span",{children:["By submitting this form, you agree with the"," ",Object(D.jsx)("a",{href:"#",children:"T&Cs"})]})]}),Object(D.jsx)("div",{className:"tab-footer",children:Object(D.jsxs)("div",{className:"code-copy",children:[Object(D.jsx)(v.b,{id:"CodeCopyCancelButton",onClick:function(){return o(!i)},children:"Cancel"}),Object(D.jsx)(v.b,{id:"CodeCopyOkButton",className:l?"disabled":"",disabled:l,onClick:function(){return C?W():null},children:l?Object(D.jsx)(P.a,{}):"OK"})]})})]})})]})})})};e.a=function(n){var e=n.cancelSubscriptionId,t=n.billingModelType,i=n.showCancelModal,o=n.setShowCancelModal,l=n.isLoading,r=n.setIsLoading,a=Object(w.useState)(i),d=Object(g.a)(a,2),c=d[0],s=d[1];Object(w.useEffect)((function(){s(i)}),[i]),Object(w.useEffect)((function(){o(c)}),[c]);return Object(D.jsx)(C.a,{isOpen:c,onDismiss:function(){l||s(!c)},minHeight:!1,maxHeight:90,children:c&&Object(D.jsx)(B,{cancelSubscriptionId:e,billingModelType:t,cancelSubscriptionModal:c,setCancelSubscriptionModal:s,isLoading:l,setIsLoading:r})})}}}]);
//# sourceMappingURL=3.b6d32c2c.chunk.js.map
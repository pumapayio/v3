(this["webpackJsonp@pumapay/pull-payments-ui"]=this["webpackJsonp@pumapay/pull-payments-ui"]||[]).push([[8],{323:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var i=t(21),r=t(17);function a(){var e,n=Object(r.b)().chainId,t=Object(i.d)((function(e){return e.supported_tokens}));return n&&null!==(e=t[n])&&void 0!==e?e:{}}},340:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var i,r,a=t(4),l=t(7),c=t(1),o=l.default.div(i||(i=Object(a.a)(["\n  padding-left: 30px;\n  width: 190px;\n  border-right: 1px solid #ddd;\n  padding-right: 10px;\n  margin-right: 20px;\n\n  .progress-item {\n    padding: 15px 0;\n    position: relative;\n    &:not(:last-child):before {\n      content: '';\n      position: absolute;\n      height: 100%;\n      border: 1px solid #ddd;\n      top: 30px;\n      left: -20px;\n    }\n    span {\n      align-items: center;\n      width: 20px;\n      height: 20px;\n      border-radius: 50%;\n      position: absolute;\n      left: -29px;\n      display: flex;\n      justify-content: center;\n    }\n    span.pending {\n      background: #fff;\n      border: 1px solid #a3a3a3;\n    }\n    span.completed {\n      background: #00d48b;\n      &:before {\n        content: '';\n        display: inline-block;\n        width: 7px;\n        height: 4px;\n        border-left: 2px solid #fff;\n        border-bottom: 2px solid #fff;\n        transform: rotate(312deg);\n      }\n    }\n    span.current {\n      background: #00d48b;\n      &:before {\n        content: '';\n        display: inline-block;\n        width: 8px;\n        height: 8px;\n        border-radius: 50%;\n        background: #fff;\n        transform: rotate(312deg);\n      }\n    }\n  }\n  label {\n    font-size: 16px;\n  }\n  p {\n    color: #756f82;\n    font-size: 12px;\n    margin-top: 5px;\n  }\n"]))),d=l.default.div(r||(r=Object(a.a)([""])));function s(e){var n,t=window.location.href.split("/").pop();return Object(c.jsxs)(o,{className:"progressBar",children:[Object(c.jsxs)(d,{className:"progress-item",children:[Object(c.jsx)("span",{className:b(t)?"current":"completed"}),Object(c.jsx)("label",{htmlFor:"",children:"Billing Model"}),Object(c.jsx)("p",{children:"Choose a billing model"})]}),Object(c.jsxs)(d,{className:"progress-item",children:[Object(c.jsx)("span",{className:b(t)?"pending":"current"}),Object(c.jsx)("label",{htmlFor:"",children:"Setup"}),Object(c.jsx)("p",{children:"Set price and currency"})]}),Object(c.jsxs)(d,{className:"progress-item",children:[Object(c.jsx)("span",{className:(n=t,"create/widget-preview"!==n?"pending":"current")}),Object(c.jsx)("label",{htmlFor:"",children:"Integration"}),Object(c.jsx)("p",{children:"Embed code snippet"})]})]})}function b(e){return"create/choose-billing-model-type"===e}},421:function(e,n,t){"use strict";t.d(n,"a",(function(){return k}));var i=t(24),r=t(20),a=t(40),l=t(4),c=t(0),o=t(7),d=t(22),s=t(806);var b,p,u,m=t(163),j=t(1),h=o.default.div(b||(b=Object(l.a)(["\n  z-index: 9999;\n\n  visibility: ",";\n  opacity: ",";\n  transition: visibility 150ms linear, opacity 150ms linear;\n\n  background: ",";\n  border: 1px solid ",";\n  box-shadow: 0 4px 8px 0 ",";\n  color: ",";\n  border-radius: 8px;\n"])),(function(e){return e.show?"visible":"hidden"}),(function(e){return e.show?1:0}),(function(e){return e.theme.bg2}),(function(e){return e.theme.bg3}),(function(e){var n=e.theme;return Object(d.c)(.9,n.shadow1)}),(function(e){return e.theme.text2})),x=o.default.div(p||(p=Object(l.a)(["\n  display: inline-block;\n"]))),f=o.default.div(u||(u=Object(l.a)(["\n  width: 8px;\n  height: 8px;\n  z-index: 9998;\n\n  ::before {\n    position: absolute;\n    width: 8px;\n    height: 8px;\n    z-index: 9998;\n\n    content: '';\n    border: 1px solid ",";\n    transform: rotate(45deg);\n    background: ",";\n  }\n\n  &.arrow-top {\n    bottom: -5px;\n    ::before {\n      border-top: none;\n      border-left: none;\n    }\n  }\n\n  &.arrow-bottom {\n    top: -5px;\n    ::before {\n      border-bottom: none;\n      border-right: none;\n    }\n  }\n\n  &.arrow-left {\n    right: -5px;\n\n    ::before {\n      border-bottom: none;\n      border-left: none;\n    }\n  }\n\n  &.arrow-right {\n    left: -5px;\n    ::before {\n      border-right: none;\n      border-top: none;\n    }\n  }\n"])),(function(e){return e.theme.bg3}),(function(e){return e.theme.bg2}));function g(e){var n,t,a=e.content,l=e.show,o=e.children,d=e.placement,b=void 0===d?"auto":d,p=Object(c.useState)(null),u=Object(i.a)(p,2),g=u[0],O=u[1],v=Object(c.useState)(null),w=Object(i.a)(v,2),y=w[0],N=w[1],k=Object(c.useState)(null),S=Object(i.a)(k,2),M=S[0],C=S[1],B=Object(s.a)(g,y,{placement:b,strategy:"fixed",modifiers:[{name:"offset",options:{offset:[8,8]}},{name:"arrow",options:{element:M}}]}),P=B.styles,z=B.update,I=B.attributes;return function(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Object(c.useRef)();Object(c.useEffect)((function(){i.current=e}),[e]),Object(c.useEffect)((function(){function e(){var e=i.current;e&&e()}if(null!==n){t&&e();var r=setInterval(e,n);return function(){return clearInterval(r)}}}),[n,t])}(z,l?100:null),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(x,{ref:O,children:o}),Object(j.jsx)(m.b,{children:Object(j.jsxs)(h,Object(r.a)(Object(r.a)({show:l,ref:N,style:P.popper},I.popper),{},{children:[a,Object(j.jsx)(f,Object(r.a)({className:"arrow-".concat(null!==(n=null===(t=I.popper)||void 0===t?void 0:t["data-popper-placement"])&&void 0!==n?n:""),ref:C,style:P.arrow},I.arrow))]}))})]})}var O,v=["text"],w=["children"],y=o.default.div(O||(O=Object(l.a)(["\n  width: 228px;\n  padding: 0.6rem 1rem;\n  line-height: 150%;\n  font-weight: 400;\n"])));function N(e){var n=e.text,t=Object(a.a)(e,v);return Object(j.jsx)(g,Object(r.a)({content:Object(j.jsx)(y,{children:n})},t))}function k(e){var n=e.children,t=Object(a.a)(e,w),l=Object(c.useState)(!1),o=Object(i.a)(l,2),d=o[0],s=o[1],b=Object(c.useCallback)((function(){return s(!0)}),[s]),p=Object(c.useCallback)((function(){return s(!1)}),[s]);return Object(j.jsx)(N,Object(r.a)(Object(r.a)({},t),{},{show:d,children:Object(j.jsx)("div",{onMouseEnter:b,onMouseLeave:p,children:n})}))}},803:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return J}));var i,r,a,l,c,o,d,s,b=t(24),p=t(4),u=t(7),m=t(0),j=t(318),h=t(335),x=t(35),f=t(90),g=t(126),O=t(10),v=t(97),w=t(83),y=t(37),N=t(51),k=t(159),S=t(158),M=t(323),C=t(164),B=t(340),P=t(123),z=t(215),I=t(421),U=t(1),F=u.default.div(i||(i=Object(p.a)(["\n  color: #000;\n  &.open {\n    padding-left: 220px;\n    padding-right: 2rem;\n    height: 80vh;\n    overflow-y: hidden;\n    margin-top: 1rem;\n  }\n  .small-switch {\n    display: flex;\n    align-items: center;\n    float: left;\n    margin-top: 10px;\n    > p {\n      line-height: 2rem;\n      margin: 0 1rem;\n    }\n    > div {\n      width: 30px;\n      height: 14px;\n      input + div:before {\n        height: 10px;\n        width: 10px;\n        bottom: 2px;\n      }\n      img {\n        position: relative;\n        top: -6px;\n        margin-left: 1rem;\n      }\n    }\n    progressBar > p {\n      margin-left: 10px;\n      font-size: 14px;\n      padding-left: 10px;\n      color: #000;\n    }\n  }\n  .arrow {\n    margin: 0 20px 0 0;\n    padding-top: 1.7rem;\n    cursor: pointer;\n  }\n  display: flex;\n  width: 100%;\n  padding-left: 100px;\n"]))),q=u.default.div(r||(r=Object(p.a)(["\n  display: flex;\n"]))),E=u.default.div(a||(a=Object(p.a)(["\n  position: fixed;\n  bottom: 0;\n  width: 100%;\n  left: 0;\n  padding: 20px;\n  background: #fff;\n  border-top: 1px solid #ddd;\n  text-align: right;\n  #buttonPrimarySingle {\n    border-color: #b2acbf;\n    margin-right: 10px;\n    background: transparent;\n    color: #000;\n    width: 130px;\n    display: inline-block;\n    padding: 10px;\n    border-radius: 10px;\n  }\n  #create-bm-button {\n    padding: 16px;\n  }\n  button {\n    width: 120px;\n    height: 40px;\n    font-size: 14px;\n    border-radius: 10px;\n    display: inline-block;\n    padding: 5px !important;\n  }\n"]))),D=u.default.div(l||(l=Object(p.a)(["\n  width: 100%;\n  .custom-field {\n    width: 100%;\n    border: 1px solid #eae8ee;\n    padding: 10px;\n    border-radius: 4px;\n    height: 45px;\n  }\n  .msg {\n    font-size: 10px;\n    color: #756f82;\n  }\n  .calender {\n    display: flex;\n    justify-content: space-between;\n    input:focus,\n    select:focus {\n      border: 2px solid #015fcc !important;\n    }\n    > div {\n      width: 48%;\n      select,\n      input {\n        border: 1px solid #eae8ee;\n        padding: 10px;\n        border-radius: 4px;\n        width: 100%;\n        height: 45px;\n      }\n    }\n  }\n"]))),R=u.default.div(c||(c=Object(p.a)(["\n  overflow: hidden;\n"]))),A=u.default.div(o||(o=Object(p.a)(["\n  display: flex;\n  flex-wrap: wrap;\n\n  .billing-wrap {\n    margin-right: 20px;\n    margin-bottom: 10px;\n  }\n"]))),H=u.default.div(d||(d=Object(p.a)(["\n  .AfterPrice {\n    width: 100px;\n    > label {\n      margin-bottom: 10px;\n      display: inline-block;\n    }\n  }\n\n  .billing-wrap {\n    > label {\n      margin-bottom: 10px;\n      display: inline-block;\n    }\n  }\n  .billing-wrap input:focus {\n    border: 2px solid #015fcc !important;\n  }\n  input,\n  select {\n    height: 38px !important;\n    padding: 4px !important;\n    border: 1px solid #eae8ee !important;\n    border-radius: 4px;\n    outline: none;\n    font-size: 12px;\n  }\n  select:disabled,\n  input:disabled {\n    background: #dddddd;\n  }\n  .currency-price {\n    margin-left: 0px;\n    > label {\n      margin-bottom: 10px;\n      display: inline-block;\n    }\n\n    .calender {\n      #bm-currency {\n        width: 60px;\n        border-radius: 4px 0 0 4px;\n      }\n      #bm-price {\n        border-top-left-radius: 0px;\n        border-bottom-left-radius: 0px;\n      }\n    }\n  }\n  .currency-price select {\n    border-right: 0 !important;\n  }\n  .currency-price input {\n    border-left: 0 !important;\n    border-top-left-radius: 5px;\n  }\n\n  .settle-wrap {\n    display: flex;\n    align-items: center;\n  }\n  .settle-wrap p {\n    margin-left: 20px;\n  }\n"]))),L=u.default.a(s||(s=Object(p.a)(["\n  &:hover{\n    .sidebar-text{\n      color: #7023FF;\n    }\n    .default{\n      display: none;\n    }\n    .focus{\n      display:inline;\n    }\n  }\n  display: flex;\n  color: #756F82;\n  margin-bottom: 30px;\n  text-decoration: none;\n  .focus{\n    display:none;\n  }\n  img{\n    margin-right: 10px;\n  }\n}\n"])));function J(){var e=Object(j.a)().t,n=Object(y.h)(),t=n.search,i=n.state,r=n.pathname,a=new URLSearchParams(t).get("billing-model-id"),l=Object(m.useContext)(S.a),c=Object(m.useContext)(u.ThemeContext),o=Object(y.g)(),d=Object(M.a)(),s=Object(m.useState)(""),p=Object(b.a)(s,2),J=p[0],T=p[1],_=Object(m.useState)(""),G=Object(b.a)(_,2),K=G[0],Q=G[1],V=Object(m.useState)(""),W=Object(b.a)(V,2),X=W[0],Y=W[1],Z=Object(m.useState)(""),$=Object(b.a)(Z,2),ee=$[0],ne=$[1],te=Object(m.useState)(""),ie=Object(b.a)(te,2),re=ie[0],ae=ie[1],le=Object(m.useState)({address:"0xc5d495EEaA84942095b769342bC71125721692Da",symbol:"PMA",name:"PumaPay",decimals:18}),ce=Object(b.a)(le,2),oe=ce[0],de=ce[1],se=Object(m.useState)(!1),be=Object(b.a)(se,2),pe=be[0],ue=be[1];Object(m.useEffect)((function(){i&&(Y(null===i||void 0===i?void 0:i.merchantName),ne(null===i||void 0===i?void 0:i.merchantUrl),ae(null===i||void 0===i?void 0:i.uniqueReference),T(null===i||void 0===i?void 0:i.name),de(d[i.token]),Q(Object(O.m)(null===i||void 0===i?void 0:i.amount,oe.decimals.toString()).toString()),ue(null===i||void 0===i?void 0:i.isDynamic))}),[i,d]);var me=Object.keys(d).map((function(e,n){return Object(U.jsx)("option",{value:d[e].address,children:d[e].symbol},d[e].address)})),je=function(){return r.includes("edit-billing-model")},he=function(e){e.preventDefault(),pe||""!==J&&Number(K)>0&&oe?o.push({pathname:je()?"/merchant/single-billing/edit-billing-model/widget-preview":"/merchant/create/widget-preview",state:{billingModelId:a||null,merchantName:X,merchantUrl:ee,reference:re,title:J,price:Object(O.z)(K.toString(),oe.decimals.toString()),currency:oe,isDynamic:pe,billingModelType:pe?O.d.SingleDynamic:O.d.Single,isEdit:je(),onUpdate:!!a}}):alert("empty fields")};return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)(F,{className:l?" open":"",children:[Object(U.jsx)(B.a,{}),Object(U.jsx)("div",{className:"arrow",children:Object(U.jsxs)(L,{className:"active",as:N.b,to:je()?"/merchant/billing-model-details?billing-model-type=".concat(pe?O.d.SingleDynamic:O.d.Single,"&billing-model-id=").concat(a):"/merchant/create/choose-billing-model-type",children:[" ",Object(U.jsx)("img",{src:z.default,alt:"arrow"})," "]})}),Object(U.jsx)(R,{children:Object(U.jsxs)("div",{children:[Object(U.jsxs)(f.a,{gap:"lg",justify:"flex-start",children:[Object(U.jsx)(k.a,{title:e("createNewBillingModel"),info:e("setModelDescriptionSingleBillingModel")}),Object(U.jsx)(g.a,{padding:"0",paddingLeft:"0 !Important",border:"0px !important",borderRadius:"0px",marginBottom:"20px",children:!a&&Object(U.jsx)(x.d.body,{color:c.text3,textAlign:"center",children:Object(U.jsxs)("div",{className:"small-switch",style:{alignItems:"center"},children:[Object(U.jsx)(C.a,{checked:pe,setChecked:function(){return ue(!pe)}}),Object(U.jsxs)("p",{children:[e("dynamicBillingModelName")," "]}),Object(U.jsx)(I.a,{text:"Setting a billing model to be dynamic will allow you to set the currency and price programmatically on the fly.",children:Object(U.jsx)("img",{src:P.default,alt:"question"})})]})})})]}),Object(U.jsxs)(w.Box,{as:"form",onSubmit:function(e){return he(e)},children:[Object(U.jsx)(q,{children:Object(U.jsx)(D,{children:Object(U.jsxs)(H,{children:[Object(U.jsxs)(A,{children:[Object(U.jsxs)("div",{className:"billing-wrap",id:"IMerchantName",children:[Object(U.jsx)("label",{children:e("merchantName")}),Object(U.jsx)(h.a,{id:"bm-merchant-name",name:"bm-merchant-name",type:"text",value:X,onChange:function(e){return Y(e.target.value)},placeholder:e("bmMerchantNamePlaceHolder")}),Object(U.jsx)("p",{className:"msg",children:"Merchant name will be shown on the blockchain transaction details"})]}),Object(U.jsxs)("div",{className:"billing-wrap",id:"IMerchantUrl",children:[Object(U.jsx)("label",{children:e("merchantUrl")}),Object(U.jsx)(h.a,{id:"bm-merchant-url",name:"bm-merchant-url",type:"text",value:ee,onChange:function(e){return ne(e.target.value)},placeholder:e("bmMerchantUrlPlaceHolder")}),Object(U.jsx)("p",{className:"msg",children:"Merchant url will be shown on the blockchain transaction details"})]})]}),Object(U.jsxs)(A,{children:[Object(U.jsxs)("div",{className:"billing-wrap",id:"IUniqueReference",children:[Object(U.jsx)("label",{children:e("uniqueReference")}),Object(U.jsx)(h.a,{id:"bm-unique-reference",name:"bm-unique-reference",type:"text",value:re,onChange:function(e){return ae(e.target.value)},placeholder:e("bmUniqueReferencePlaceHolder"),disabled:je()?"disabled":""}),Object(U.jsx)("p",{className:"msg",children:"Unique reference will be shown on the blockchain transaction details"})]}),Object(U.jsxs)("div",{className:"billing-wrap",children:[Object(U.jsx)("label",{children:e("billingModelName")}),Object(U.jsx)(h.a,{id:"bm-billing-name",name:"bm-billing-name",type:"text",value:J,onChange:function(e){return T(e.target.value)},placeholder:e("billingModelNamePlaceholder"),disabled:pe?"disabled":""}),Object(U.jsx)("p",{className:"msg",children:e("createdModelNameForSingleBilling")})]})]}),Object(U.jsx)(A,{children:Object(U.jsxs)("div",{className:"currency-price billing-wrap",children:[Object(U.jsxs)("label",{children:[e("currency"),", ",e("price")]}),Object(U.jsxs)("div",{className:"calender",children:[Object(U.jsx)(h.b,{id:"bm-currency",name:"bm-currency",value:null===oe||void 0===oe?void 0:oe.address,onChange:function(e){de(d[e.target.value])},disabled:pe?"disabled":"",children:me}),Object(U.jsx)(h.a,{id:"bm-price",name:"bm-price",type:"number",placeholder:"0.00",value:K,step:"0.000000000000000001",onChange:function(e){return Q(e.target.value)},min:"0",disabled:pe?"disabled":""})]})]})})]})})}),Object(U.jsxs)(E,{className:"btn-wrap",children:[Object(U.jsx)(v.b,{id:"buttonPrimarySingle",onClick:function(){o.goBack()},children:"Cancel"}),Object(U.jsx)(v.b,{id:"create-bm-button",children:e("createBillingModel")})]})]})]})})]})})}}}]);
//# sourceMappingURL=8.df7bdf1d.chunk.js.map
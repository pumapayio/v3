(this["webpackJsonp@pumapay/pull-payments-ui"]=this["webpackJsonp@pumapay/pull-payments-ui"]||[]).push([[3],{323:function(n,e,t){"use strict";t.d(e,"a",(function(){return l}));var i=t(21),o=t(17);function l(){var n,e=Object(o.b)().chainId,t=Object(i.d)((function(n){return n.supported_tokens}));return e&&null!==(n=t[e])&&void 0!==n?n:{}}},411:function(n,e,t){"use strict";t.d(e,"b",(function(){return N}));var i,o,l,r,a=t(24),d=t(4),c=t(753),s=t.n(c),u=t(10),b=t(80),p=t(7),m=t(98),x=t.n(m),g=t(0),h=t(37),f=t(137),j=t(323),v=t(97),y=t(512),O=t(375),w=t.n(O),S=t(17),T=t(513),M=t(1),N=function(n,e,t){var i,o;switch(u.d[null===n||void 0===n?void 0:n.billingModelType]||u.d[t]){case String(u.d.Single):case String(u.d.SingleDynamic):return null===n||void 0===n||null===(i=n.pullPayments[0])||void 0===i?void 0:i.paymentAmount;case String(u.d.Recurring):case String(u.d.RecurringFreeTrial):return(null===n||void 0===n?void 0:n.amount)*(null===n||void 0===n?void 0:n.pullPaymentIDs.length);case String(u.d.RecurringPaidTrial):return(null===n||void 0===n||null===(o=n.billingModel)||void 0===o?void 0:o.initialAmount)?Number(null===n||void 0===n?void 0:n.billingModel.initialAmount):Number(null===e||void 0===e?void 0:e.initialAmount)+Number(null===n||void 0===n?void 0:n.amount)*(null===n||void 0===n?void 0:n.pullPaymentIDs.length);case String(u.d.RecurringDynamic):return Number(null===n||void 0===n?void 0:n.amount)*Number(null===n||void 0===n?void 0:n.pullPaymentIDs.length)+(Number(null===n||void 0===n?void 0:n.initialAmount)?Number(null===n||void 0===n?void 0:n.initialAmount):0);default:return 0}},C=p.default.div(i||(i=Object(d.a)(["\n  .tap-main {\n    display: flex;\n    flex-direction: row-reverse;\n  }\n\n  color: #000;\n\n  .top-head {\n    display: flex;\n    flex-direction: column-reverse;\n    align-items: end;\n    width: 50%;\n  }\n\n  .top-head .icon-wrap {\n    margin-top: 20px;\n    margin-right: 15px;\n    display: flex;\n    align-items: flex-start;\n    width: 50%;\n    justify-content: end;\n    cursor: pointer;\n  }\n\n  .top-head .icon-wrap img {\n    margin-left: 5px;\n  }\n\n  .heading {\n    h3 {\n      font-weight: 400;\n      margin-bottom: 5px;\n    }\n\n    p {\n      font-size: 14px;\n      color: #756f82;\n      margin-top: 0;\n    }\n  }\n\n  &.open {\n    padding-left: 220px;\n    padding-right: 2rem;\n  }\n\n  .table-top {\n    margin-top: 30px;\n    margin-bottom: 1rem;\n    justify-content: space-between;\n  }\n\n  .subscription-wrapper {\n    .btn-wrap .align-btn {\n      display: flex;\n      align-items: center;\n\n      button.btn-theme-outlined {\n        background: #fff;\n        border: 1px solid #b2acbf;\n        padding: 9px 25px;\n        border-radius: 6px;\n        font-size: 12px;\n        min-width: 97px;\n      }\n    }\n\n    .btn-wrap {\n      margin-top: 20px;\n\n      .align-btn button {\n        margin-right: 5px;\n      }\n    }\n\n    h3,\n    h4,\n    h5 {\n      font-weight: 500;\n    }\n\n    .bg-back {\n      background: #f8f5ff;\n      padding: 10px 20px;\n    }\n\n    .bg-back .details-wrapper {\n      display: flex;\n    }\n\n    .bg-back .details-wrapper .items {\n      width: 160px;\n    }\n\n    .bg-back .details-wrapper .items p {\n      margin-bottom: 0;\n      font-size: 12px;\n      color: #444;\n    }\n\n    .bg-back .details-wrapper .items h5,\n    .bg-back .details-wrapper .items h3 {\n      margin-top: 5px;\n    }\n  }\n\n  .pagination {\n    display: flex;\n    justify-content: flex-end;\n    margin-top: 20px;\n    margin-bottom: 40px;\n\n    span {\n      line-height: 2rem;\n      margin-right: 1rem;\n    }\n\n    select {\n      border: none;\n    }\n\n    .navigation {\n      display: flex;\n\n      p {\n        background: #ededed;\n        border-radius: 5px;\n        padding: 8px 14px;\n        margin: 0 5px;\n        cursor: pointer;\n\n        #navigationOne {\n          transform: rotate(180deg);\n        }\n      }\n    }\n  }\n\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n\n  .top-wrap {\n    margin-top: 60px;\n    display: flex;\n    justify-content: space-between;\n    width: 50%;\n\n    .total-earning {\n      width: 300px;\n      border: 0;\n    }\n  }\n\n  .select-drop {\n    display: flex;\n\n    select {\n      padding: 10px;\n      border-radius: 20px;\n      border: 1px solid #d9d9d9;\n      margin: 0 20px;\n      font-size: 13px;\n    }\n\n    button.table-top-btn {\n      &:hover {\n        background: #ddd;\n      }\n\n      &:active {\n        background: #ddd;\n      }\n\n      padding: 10px 19px;\n      border-radius: 20px;\n      border: 1px solid #d9d9d9;\n      margin: 0 10px;\n      font-size: 13px;\n      background: transparent;\n    }\n  }\n\n  @media screen and (max-width: 1366px) {\n    .select-drop button.table-top-btn {\n      padding: 7px 19px;\n      font-size: 11px;\n    }\n\n    .new-billing-model {\n      font-size: 11px;\n      display: flex;\n      white-space: nowrap;\n      align-items: center;\n    }\n\n    .table-top .select-drop select {\n      font-size: 11px;\n      padding: 7px;\n    }\n\n    .new-billing-model a {\n      width: 22px;\n      height: 22px;\n      font-size: 22px;\n      line-height: 21px;\n    }\n\n    h3 {\n      font-size: 14px;\n    }\n\n    .export {\n      font-size: 11px;\n      display: flex;\n      align-items: center;\n    }\n  }\n"]))),k=p.default.div(o||(o=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  h3 {\n    font-weight: 400;\n    width: 30%;\n  }\n  .new-billing-model {\n    font-size: 14px;\n    button {\n      padding: 0px;\n      border-radius: 50%;\n      width: 35px;\n      height: 35px;\n      border: 0;\n      background: #7023ff;\n      color: #fff;\n      font-size: 26px;\n      line-height: 35px;\n      margin-left: 10px;\n      cursor: pointer;\n      :hover {\n        background: #9e70f5;\n      }\n    }\n  }\n\n  .react-daterange-picker > .react-daterange-picker__wrapper {\n    border-radius: 20px;\n    border: 1px solid #d9d9d9;\n    box-shadow: inset 0 2px 2px #e9e9e9;\n    font-size: 13px;\n    padding: 6px 10px 5px;\n  }\n  .csv-link {\n    padding: 10px 15px;\n    border-radius: 20px;\n    border: 1px solid #d9d9d9;\n    margin: 0 20px 0 15px;\n    text-decoration: none;\n    font-size: 13px;\n    color: inherit;\n  }\n"]))),P=p.default.table(l||(l=Object(d.a)(["\n  .empty-table-row {\n    text-align: center;\n    font-size: 1rem;\n    line-height: 2rem;\n  }\n  button.action-btn:disabled {\n    background-color: #edeef2;\n    color: #888d9b;\n  }\n  margin-bottom: 100px;\n  border-collapse: collapse;\n  border-spacing: none;\n  width: 100%;\n  border: 1px solid #ddd;\n  caption-side: bottom;\n  empty-cell: show | hide;\n  empty-cell is a property of table or the cells themselves\n \nvertical-align: baseline | sub | super | text-top |\n                text-bottom | middle | top | bottom |\n                <percentage> | <length>\n \n   tbody {\n    vertical-align: top;\n  }\n  td,\n  th {\n    border: 1px solid #ccc;\n  }\n  thead tr th:nth-child(3) {\n    width: 10%;\n  }\n\n  th:nth-child(2) {\n    width: 20%;\n  }\n\n  thead tr th:nth-child(7) {\n    width: 10%;\n  }\n  // td:nth-child(3){\n  //   color:#7023FF;\n  // }\n  td {\n    padding: 10px 10px;\n    font-size: 12px;\n    border: 1px solid #eae8ee;\n    color: #756f82;\n    :first-child {\n      border-left: none;\n    }\n    :last-child {\n      border-right: none;\n    }\n  }\n  th {\n    padding: 10px 10px;\n    font-size: 12px;\n    border: 1px solid #eae8ee;\n    text-align: left;\n    font-weight: normal;\n    :first-child {\n      border-left: none;\n    }\n    :last-child {\n      border-right: none;\n    }\n  }\n  tbody {\n    position: relative;\n  }\n\n  tbody tr {\n    background-color: #fff;\n    :hover {\n      background-color: #f7f6f9;\n    }\n  }\n  thead > tr {\n    background-color: #f7f6f9;\n  }\n  tbody > span {\n    position: absolute;\n    left: 48%;\n    top: 22px;\n  }\n  small {\n    padding: 7px;\n    border-radius: 7px;\n  }\n  small.SUCCESS {\n    color: #00996d;\n    background: #e5fff8;\n  }\n  small.PENDING {\n    color: #b28824;\n    background: #fff7e5;\n  }\n  small.REJECTED {\n    color: #ff647c;\n    background: #ffe5e9;\n  }\n  .loader-main {\n    position: relative;\n    margin: 1rem auto;\n    left: 50%;\n  }\n  .action-btn {\n    width: 120px;\n    height: 40px;\n    font-size: 14px;\n    border-radius: 10px;\n    display: inline-block;\n    padding: 5px !important;\n  }\n"]))),D=p.default.a(r||(r=Object(d.a)(["\n&:hover{\n  .sidebar-text{\n    color: #7023FF;\n  }\n  .default{\n    display: none;\n  }\n  .focus{\n    display:inline;\n  }\n}\ndisplay: flex;\nmargin-bottom: 2px;\ntext-decoration: none;\n.focus{\n  display:none;\n}\nimg{\n  margin-right: 10px;\n}\n  }\n"])));e.a=function(n){var e,t=n.type,i=n.subscriptionsData,o=n.billingModel,l=n.billingModelType,r=Object(S.b)(),d=r.account,c=r.chainId,p=Object(h.h)().pathname,m=Object(h.g)(),O=Object(j.a)(),I=Object(g.useState)(null),R=Object(a.a)(I,2),F=R[0],A=R[1],z=Number(x()().unix()),L=Object(g.useState)(null),E=Object(a.a)(L,2),Y=E[0],B=E[1],W=Object(g.useState)(null),U=Object(a.a)(W,2),q=U[0],_=U[1],J=Object(g.useState)(null),V=Object(a.a)(J,2),G=V[0],H=V[1],X=Object(g.useState)(null),K=Object(a.a)(X,2),Q=K[0],Z=K[1],$=Object(g.useState)(null),nn=Object(a.a)($,2),en=nn[0],tn=nn[1],on=Object(g.useState)(null),ln=Object(a.a)(on,2),rn=ln[0],an=ln[1],dn=Object(g.useState)(null),cn=Object(a.a)(dn,2),sn=cn[0],un=cn[1],bn=Object(g.useState)([{id:0,value:"Status: All"},{id:1,value:"ACTIVE"},{id:2,value:"CANCELLED"},{id:2,value:"COMPLETED"}]),pn=Object(a.a)(bn,2),mn=pn[0],xn=(pn[1],function(){for(var n=(new Date).getFullYear(),e=(new Date).getMonth()+1,t=x()(n+"-"+e,"YYYY-MM").daysInMonth(),i=[],o=(new Date).getDate();t;){var l=x()().date(t);t<=o&&i.push(l.format("MM/DD/YYYY")),t--}return i}()),gn=function(n){var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;B(null),H(null),Z(null),_(null),A(null),"today"===n&&(e=x()().unix(),B(Number(e))),"yesterday"===n&&(e=x()().subtract(1,"days").unix(),_(Number(e))),"week"===n&&(e=x()().subtract(1,"week").unix(),H(Number(e))),"month"===n&&(e=x()().subtract(xn.length-1,"month").unix(),Z(Number(e))),"dateRange"===n&&(an(Number(x()(null===t||void 0===t?void 0:t[0]).unix())),un(Number(x()(null===t||void 0===t?void 0:t[1]).unix())),tn(t))},hn=function(n){var e=Object(u.r)(t===u.f.MyCustomers?u.d[l]:u.d[n.billingModelType])?Number(n.startTimestamp):Number(n.pullPayments[0].executionTimestamp);if(!F)return Y?new Date(1e3*e).getDate()===new Date(1e3*Y).getDate():q?new Date(1e3*e).getDate()===new Date(1e3*q).getDate():G?e>=G&&e<=z:Q?e>=Q&&e<=z:en?e>=rn&&e<=sn:n;switch(F){case"ACTIVE":return("0"===String(n.cancelTimestamp)||null===n.cancelTimestamp)&&Number(n.numberOfPayments)>0;case"CANCELLED":return Number(n.cancelTimestamp)>0;case"COMPLETED":return 0===Number(n.numberOfPayments);default:return n}},fn=(l===u.d.Single||(l===u.d.SingleDynamic||u.d.RecurringDynamic),["Unique Ref. Id","Name","Type","No. of Payments","Price","Subscription Date","Last Payment","Next Payment","Status","Total Amount","Action"]),jn=["Unique Ref. Id","Wallet","No. of Payments","Trial Period","First Payment","Last Payment","Next Payment","Status","Total Amount"],vn=["Unique Ref. Id","Wallet","No. of Payments","Trial Period","Initial Amount","First Payment","Last Payment","Next Payment","Status","Total Amount"],yn=["Unique Ref. Id","Name","Wallet","Trial Type","First Payment","Last Payment","Next Payment","Status","Total Amount"],On=["Unique Ref. Id","Wallet","No. of Payments","First Payment","Last Payment","Next Payment","Status","Total Amount"],wn=["Unique Ref. Id","Name","Wallet","Payment Date","Total Amount"],Sn=["Unique Ref. Id","Wallet","Payment Date","Total Amount"],Tn=Object(g.useState)(10),Mn=Object(a.a)(Tn,2),Nn=Mn[0],Cn=Mn[1],kn=Object(g.useState)(1),Pn=Object(a.a)(kn,2),Dn=Pn[0],In=Pn[1],Rn=Object(g.useState)(1),Fn=Object(a.a)(Rn,2),An=Fn[0],zn=Fn[1],Ln=Object(g.useState)(!1),En=Object(a.a)(Ln,2),Yn=En[0],Bn=En[1],Wn=Object(g.useState)(null),Un=Object(a.a)(Wn,2),qn=Un[0],_n=Un[1],Jn=Object(g.useState)(null),Vn=Object(a.a)(Jn,2),Gn=Vn[0],Hn=Vn[1],Xn=Object(g.useState)(!1),Kn=Object(a.a)(Xn,2),Qn=Kn[0],Zn=Kn[1];return Object(M.jsxs)(C,{children:[Object(M.jsxs)(k,{className:"table-top",children:[Object(M.jsx)("h3",{children:t===u.f.MySubscriptions?"My Subscriptions":"Customers"}),Object(M.jsxs)("div",{className:"select-drop",children:[t===u.f.MySubscriptions||Object(u.r)(u.d[l])&&Object(M.jsx)("select",{onChange:function(n){var e=n.target.value;A(e),H(null),Z(null),_(null),B(null)},children:null===mn||void 0===mn?void 0:mn.map((function(n,e){return Object(M.jsx)("option",{value:n.value,children:n.value},e)}))}),Object(M.jsx)(s.a,{monthPlaceholder:"MM",dayPlaceholder:"DD",yearPlaceholder:"YYYY",onChange:function(n){return gn("dateRange",n)},value:en}),Object(M.jsx)("button",{className:"table-top-btn",onClick:function(){return gn("today")},children:"Today"}),Object(M.jsx)("button",{className:"table-top-btn",onClick:function(){return gn("yesterday")},children:"Yesterday"}),Object(M.jsx)("button",{className:"table-top-btn",onClick:function(){return gn("week")},children:"Week"}),Object(M.jsx)("button",{className:"table-top-btn",onClick:function(){return gn("month")},children:"Month"})]})]}),Object(M.jsxs)(P,{children:[Object(M.jsx)("thead",{children:Object(M.jsx)("tr",{children:function(){switch(l){case String(u.d.Single):return Sn;case String(u.d.SingleDynamic):return wn;case String(u.d.RecurringDynamic):return yn;case String(u.d.Recurring):return On;case String(u.d.RecurringPaidTrial):return vn;case String(u.d.RecurringFreeTrial):return jn;default:return fn}}().map((function(n,e){return Object(M.jsx)("th",{children:n},e)}))})}),Object(M.jsx)("tbody",{children:null===i?Object(M.jsx)("tr",{children:Object(M.jsx)("td",{colSpan:12,children:Object(M.jsx)("div",{children:Object(M.jsx)(b.a,{className:"loader-main",size:"3rem"})})})}):(null===i||void 0===i||null===(e=i.filter(hn))||void 0===e?void 0:e.length)>0?function(n){var e=(Dn-1)*Nn,t=e+Nn;return null===n||void 0===n?void 0:n.slice(e,t)}(null===i||void 0===i?void 0:i.filter(hn)).map((function(n,e){var i,r,a,s,b,g,h,f,j,y,S,C,k,P,I,R,F;return Object(M.jsxs)("tr",{children:[Object(M.jsxs)("td",{children:[" ",null===n||void 0===n?void 0:n.uniqueReference]}),(t===u.f.MySubscriptions||Object(u.t)(u.d[l]))&&Object(M.jsx)("td",{children:Object(u.t)(u.d[n.billingModelType])&&!(null===n||void 0===n?void 0:n.name)?"Dynamic":(null===n||void 0===n||null===(i=n.billingModel)||void 0===i?void 0:i.name)?null===n||void 0===n||null===(r=n.billingModel)||void 0===r?void 0:r.name:null===n||void 0===n?void 0:n.name}),t===u.f.MySubscriptions&&Object(M.jsx)("td",{children:u.c[u.d[null===n||void 0===n?void 0:n.billingModelType]]}),t===u.f.MyCustomers&&Object(M.jsx)("td",{style:{cursor:"pointer"},onClick:function(){return function(n){var e=n.id,i=n.billingModelId;t===u.f.MyCustomers&&m.push({pathname:"/merchant/transaction-details",search:"?billing-model-type=".concat(l,"&billing-model-id=").concat(i,"&subscription-id=").concat(e)})}({id:null===n||void 0===n?void 0:n.id,billingModelId:null!==(null===n||void 0===n?void 0:n.billingModelId)?null===n||void 0===n?void 0:n.billingModelId:null===o||void 0===o?void 0:o.id})},children:Object(M.jsx)(D,{className:"active",children:null===n||void 0===n?void 0:n.subscriber})}),String(u.d.RecurringDynamic)==u.d[l]?Object(M.jsx)("td",{children:u.b[null===o||void 0===o?void 0:o.trialType]}):Object(u.r)(u.d[l])||Object(u.r)(u.d[n.billingModelType])?Object(M.jsxs)("td",{children:[n.pullPaymentIDs.length,"/",Object(u.u)(u.d[l])||t!==u.f.MyCustomers?null===n||void 0===n||null===(a=n.billingModel)||void 0===a?void 0:a.numberOfPayments:null===o||void 0===o?void 0:o.numberOfPayments,Object(u.u)(u.d[l])&&t===u.f.MyCustomers?null===o||void 0===o?void 0:o.totalPayments:null===n||void 0===n?void 0:n.totalPayments]}):t===u.f.MySubscriptions&&Object(M.jsx)("td",{children:"1/1"}),t===u.f.MySubscriptions&&(Object(u.t)(u.d[n.billingModelType])?Object(M.jsx)("td",{children:"Dynamic price"}):Object(M.jsxs)("td",{children:[Object(u.m)((null===n||void 0===n?void 0:n.amount)?null===n||void 0===n?void 0:n.amount.toString():null===o||void 0===o?void 0:o.amount.toString(),null===O||void 0===O||null===(s=O[n.settlementToken])||void 0===s?void 0:s.decimals.toString()).toString(),"\xa0",null===O||void 0===O||null===(b=O[n.settlementToken])||void 0===b?void 0:b.symbol,Object(M.jsxs)("span",{children:["\xa0 in ",null===O||void 0===O||null===(g=O[n.paymentToken])||void 0===g?void 0:g.symbol]})]})),t===u.f.MyCustomers&&(Object(u.w)(u.d[l])||Object(u.w)(u.d[n.billingModelType]))&&Object(M.jsx)("td",{children:w()(1e3*Number(null===o||void 0===o?void 0:o.trialPeriod),{largest:1,round:!0})}),t===u.f.MyCustomers&&(u.d[o.billingModelType]===u.d.RecurringPaidTrial||u.d[l]===u.d.RecurringPaidTrial)&&Object(M.jsxs)("td",{children:[Object(u.m)(null===o||void 0===o?void 0:o.initialAmount.toString(),null===O||void 0===O||null===(h=O[n.settlementToken])||void 0===h?void 0:h.decimals.toString()).toString(),"\xa0",null===O||void 0===O||null===(f=O[n.settlementToken])||void 0===f?void 0:f.symbol]}),Object(u.r)(u.d[l])||Object(u.r)(u.d[n.billingModelType])?Object(M.jsx)("td",{children:Object(u.v)(u.d[n.billingModelType])||Object(u.v)(u.d[l])?(null===n||void 0===n||null===(j=n.pullPayments[0])||void 0===j?void 0:j.executionTimestamp)?x()(1e3*Number(null===n||void 0===n||null===(y=n.pullPayments[0])||void 0===y?void 0:y.executionTimestamp)).format("lll"):"No payment yet":x()(1e3*Number(null===n||void 0===n?void 0:n.startTimestamp)).format("lll")}):Object(M.jsx)("td",{children:x()(1e3*Number(null===n||void 0===n||null===(S=n.pullPayments)||void 0===S||null===(C=S[0])||void 0===C?void 0:C.executionTimestamp)).format("lll")}),Object(u.r)(u.d[l||(null===n||void 0===n?void 0:n.billingModelType)])?u.d[l||(null===n||void 0===n?void 0:n.billingModelType)]!==u.d.RecurringFreeTrial&&u.d[l||(null===n||void 0===n?void 0:n.billingModelType)]!==u.d.RecurringFreeTrial&&u.d[l||(null===n||void 0===n?void 0:n.billingModelType)]!==u.d.RecurringDynamic||0!==Number(null===n||void 0===n?void 0:n.lastPaymentTimestamp)?Object(M.jsxs)("td",{children:[" ",x()(1e3*Number(null===n||void 0===n?void 0:n.lastPaymentTimestamp)).format("lll")]}):Object(M.jsx)("td",{children:"No initial payment yet"}):t===u.f.MySubscriptions&&Object(M.jsxs)("td",{children:[" ",x()(1e3*Number(null===n||void 0===n||null===(k=n.pullPayments)||void 0===k||null===(P=k[0])||void 0===P?void 0:P.executionTimestamp)).format("lll")]}),Object(u.r)(u.d[l])||Object(u.r)(u.d[n.billingModelType])?Object(M.jsx)("td",{children:0!==Number(null===n||void 0===n?void 0:n.cancelTimestamp)||0===Number(null===n||void 0===n?void 0:n.numberOfPayments)?"No furture payment":x()(1e3*Number(null===n||void 0===n?void 0:n.nextPaymentTimestamp)).format("lll")}):t===u.f.MySubscriptions&&Object(M.jsx)("td",{children:"No future payment"}),Object(u.r)(u.d[l])||Object(u.r)(u.d[n.billingModelType])?Object(M.jsx)(M.Fragment,{children:Number((null===n||void 0===n?void 0:n.numberOfPayments)?null===n||void 0===n?void 0:n.numberOfPayments:null===n||void 0===n?void 0:n.totalPayments)>0&&(!(null===n||void 0===n?void 0:n.totalPayments)||(null===n||void 0===n?void 0:n.totalPayments)>(null===n||void 0===n?void 0:n.pullPaymentIDs.length))?Object(M.jsx)(M.Fragment,{children:Number(null===n||void 0===n?void 0:n.cancelTimestamp)>0?Object(M.jsxs)("td",{children:[" ","CANCELLED",Object(M.jsx)("br",{}),Object(M.jsxs)("span",{style:{color:"#999",fontSize:"0.7rem"},children:["by"," ",String(null===n||void 0===n?void 0:n.cancelledBy.toLowerCase())===String(T.a[c].toLowerCase())?"Low balance":(null===n||void 0===n?void 0:n.cancelledBy)===d&&p.includes("customer")||(null===n||void 0===n?void 0:n.cancelledBy)!==d&&p.includes("merchant")?"Customer":"Merchant"]})," "]}):Object(M.jsx)("td",{children:" ACTIVE "})}):Object(M.jsx)("td",{children:" COMPLETED "})}):Object(M.jsx)(M.Fragment,{children:t===u.f.MySubscriptions&&Object(M.jsx)("td",{children:" COMPLETED "})}),Object(M.jsxs)("td",{children:[N(n,o,l)/Math.pow(10,Number(null===O||void 0===O||null===(I=O[n.settlementToken])||void 0===I?void 0:I.decimals)),"\xa0",null===O||void 0===O||null===(R=O[n.settlementToken])||void 0===R?void 0:R.symbol,t===u.f.MySubscriptions&&Object(M.jsxs)("span",{children:["\xa0 in ",null===O||void 0===O||null===(F=O[n.paymentToken])||void 0===F?void 0:F.symbol]})]}),t===u.f.MySubscriptions&&Object(M.jsx)("td",{children:Object(M.jsx)(v.b,{className:"action-btn",onClick:function(){var e,t;e=null===n||void 0===n?void 0:n.id,t=u.d[null===n||void 0===n?void 0:n.billingModelType],_n(e),Hn(t),Bn(!0)},disabled:0===Number((null===n||void 0===n?void 0:n.numberOfPayments)?null===n||void 0===n?void 0:n.numberOfPayments:null===n||void 0===n?void 0:n.totalPayments)||Number(null===n||void 0===n?void 0:n.cancelTimestamp)>0||!!(null===n||void 0===n?void 0:n.totalPayments)&&Number(null===n||void 0===n?void 0:n.totalPayments)===(null===n||void 0===n?void 0:n.pullPaymentIDs.length),children:"Cancel"})})]},e)})):Object(M.jsx)("tr",{children:Object(M.jsx)("td",{colSpan:12,children:Object(M.jsx)("div",{className:"empty-table-row",children:Object(M.jsx)("span",{children:"No Subscriptions"})})})})})]}),Object(M.jsxs)("div",{className:"pagination",children:[Object(M.jsxs)("span",{children:["Show:",Object(M.jsxs)("select",{onChange:function(n){Cn(parseInt(n.target.value)),In(1)},children:[Object(M.jsx)("option",{value:"10",children:"10 Rows"}),Object(M.jsx)("option",{value:"25",children:"25 Rows"}),Object(M.jsx)("option",{value:"50",children:"50 Rows"}),Object(M.jsx)("option",{value:"100",children:"100 Rows"}),")"]})]}),Object(M.jsxs)("div",{className:"navigation",children:[Object(M.jsx)("p",{onClick:function(){1!=An&&zn(An-Nn),In((function(n){return Math.max(n-1,1)}))},children:Object(M.jsx)("img",{src:f.default,id:"navigationOne",alt:"arrows"})}),Object(M.jsx)("p",{onClick:function(){var n=Math.ceil(((null===i||void 0===i?void 0:i.length)||1)/Nn);An+Nn<(null===i||void 0===i?void 0:i.length)&&zn(An+Nn),In((function(e){return Math.min(e+1,n)}))},children:Object(M.jsx)("img",{src:f.default,alt:"arrows"})})]})]}),Object(M.jsx)(y.a,{cancelSubscriptionId:qn,billingModelType:Gn,showCancelModal:Yn,setShowCancelModal:Bn,isLoading:Qn,setIsLoading:Zn})]})}},512:function(n,e,t){"use strict";var i,o,l,r,a,d,c,s,u,b,p=t(3),m=t.n(p),x=t(36),g=t(24),h=t(4),f=t(90),j=t(159),v=t(97),y=t(7),O=t(128),w=t(0),S=t(10),T=t(62),M=t(17),N=t(179),C=t(27),k=t(21),P=t(80),D=t(1),I=y.default.div(i||(i=Object(h.a)(["\n  ","\n  margin: 0;\n  padding: 0;\n  width: 100%;\n"])),(function(n){return n.theme.flexColumnNoWrap})),R=y.default.div(o||(o=Object(h.a)(["\n  margin-left: 0;\n\n  .AutoColumnSub {\n    #cancelSub {\n      border: none;\n    }\n\n    #pOne {\n      color: #756f82;\n      marginbottom: -8px;\n    }\n\n    #pTow {\n      color: #756f82;\n    }\n  }\n"]))),F=y.default.div(l||(l=Object(h.a)(['\n  color: #000;\n\n  span.tags {\n    color: #f92672;\n    font-size: 15px;\n  }\n\n  .code-wrap .body {\n    color: #e6db74;\n    font-size: 15px;\n    line-height: 2;\n    padding-left: 20px;\n  }\n\n  .code-wrap .body span.attribute {\n    color: #a6e22e;\n  }\n\n  .tab-menu {\n    display: flex;\n    border-bottom: 1px solid #ddd;\n    margin-bottom: 20px;\n    font-size: 14px;\n\n    .tab-item {\n      padding: 7px 9px;\n      color: #756F82;\n      cursor: pointer;\n    }\n\n    .tab-item.active {\n      color: #7023FF;\n      border-bottom: 2px solid #7023FF;\n    }\n  }\n\n  .tab-wrapper {\n    background: #F8F5FF;\n    padding: 20px;\n    width: 100%;\n    max-width: 100%;\n    margin-bottom: 40px;\n    margin-top: 0;\n    text-align: center;\n\n    .code-copy {\n      #CopyButtonPrimary {\n        color: red;\n      }\n    }\n\n    input[type="text"] {\n      height: 45px;\n      display: block;\n      margin: auto auto 18px;\n      max-width: 300px;\n      width: 100%;\n      border: 1px solid #ddd;\n      border-radius: 4px;\n      padding: 0px 12px;\n    }\n\n    a {\n      color: #7023ff;\n      text-decoration: none;\n      font-size: 16px;\n    }\n\n    .XFlix {\n      font-weight: bold;\n      color: #000;\n    }\n\n    .tab-content .tab-pane {\n      display: none;\n\n      &.active {\n        display: block;\n      }\n\n      h3 {\n        font-size: 16px;\n        font-weight: 500;\n        padding: 7px 7px 7px 200px;\n        text-align: left;\n        margin: 0;\n      }\n\n      .btn-theme {\n        background: #7023FF;\n        border: 0;\n        padding: 12px 40px;\n        border-radius: 10px;\n        color: #fff;\n        font-size: 14px;\n      }\n\n      p.power {\n        font-size: 9px;\n        color: #B2ACBF;\n      }\n\n      p {\n        font-size: 14px;\n        color: #756F82;\n        margin-bottom: 20px;\n      }\n\n      .notice-box {\n        box-shadow: 2px 5px 10px 2px #4a435926;\n        border-radius: 15px;\n        padding: 30px 30px 80px;\n        text-align: center;\n        margin-bottom: 20px;\n      }\n\n      .code-box {\n        background: #1A1526;\n        color: #cbcbcb;\n        padding: 10px 20px;\n        border-radius: 8px;\n\n        table tr td:first-child {\n          padding: 0 20px 0 0;\n        }\n\n        .code-copy {\n          display: flex;\n          justify-content: space-between;\n        }\n      }\n\n      .scroll {\n        padding: 4px;\n        width: 100%;\n        height: 200px;\n        overflow-x: auto;\n        overflow-y: auto;\n        background-color: #000;\n        color: #fff;\n        text-align: left;\n        line-height: 25px;\n        margin: 4px 4px 20px;\n      }\n    }\n']))),A=y.default.div(r||(r=Object(h.a)(["\n  position: absolute;\n  right: 1rem;\n  top: 14px;\n\n  &:hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n"]))),z=Object(y.default)(O.a)(a||(a=Object(h.a)(["\n  path {\n    stroke: ",";\n  }\n"])),(function(n){return n.theme.text4})),L=y.default.div(d||(d=Object(h.a)(["\n  position: relative;\n\n  h5 {\n    margin: 0 0 0.5rem;\n    font-size: 1rem;\n    font-weight: 400;\n  }\n\n  h5:last-child {\n    margin-bottom: 0px;\n  }\n\n  h4 {\n    margin-top: 0;\n    font-weight: 500;\n  }\n"]))),E=y.default.div(c||(c=Object(h.a)(["\n  ",";\n  padding: 1rem 1rem;\n  font-weight: 500;\n  color: ",";\n  ",";\n"])),(function(n){return n.theme.flexRowNoWrap}),(function(n){return"blue"===n.color?function(n){return n.theme.primary1}:"inherit"}),(function(n){return n.theme.mediaWidth.upToMedium(s||(s=Object(h.a)(["\n    padding: 1rem;\n  "])))})),Y=y.default.div(u||(u=Object(h.a)(["\n  background-color: ",";\n  background-color: #f8f5ff;\n  padding: 2rem;\n  border-bottom-left-radius: 20px;\n  border-bottom-right-radius: 20px;\n\n  .sideContent {\n    .tab-wrapper {\n    }\n\n    .tab-footer {\n      .code-copy {\n        display: flex;\n        justify-content: flex-end;\n\n        #CodeCopyCancelButton {\n          border-color: #b2acbf;\n          margin-right: 10px;\n          background: transparent;\n          color: #000;\n          width: 120px;\n          display: inline-block;\n          padding: 8px;\n          border-radius: 10px;\n        }\n\n        #CodeCopyOkButton {\n          border-color: #7023ff;\n          margin-right: 10px;\n          background: #7023ff;\n          color: #fff;\n          width: 120px;\n          display: inline-block;\n          padding: 8px;\n          border-radius: 10px;\n          &.disabled {\n            background-color: #edeef2;\n            color: #888d9b;\n            box-shadow: none;\n            border: 1px solid transparent;\n            outline: none;\n            cursor: not-allowed;\n          }\n        }\n      }\n    }\n  }\n\n  ",";\n"])),(function(n){return n.theme.bg2}),(function(n){return n.theme.mediaWidth.upToMedium(b||(b=Object(h.a)(["padding: 1rem"])))})),B=function(n){var e=n.cancelSubscriptionId,t=n.billingModelType,i=n.cancelSubscriptionModal,o=n.setCancelSubscriptionModal,l=n.isLoading,r=n.setIsLoading,a=Object(M.b)(),d=a.account,c=a.chainId,s=Object(k.c)(),u=Object(C.i)(),b=Object(C.d)(),p=Object(C.f)(),h=Object(C.h)(),y=Object(w.useState)(!1),O=Object(g.a)(y,2),N=O[0],B=O[1],W=function(){var n=Object(x.a)(m.a.mark((function n(){var i,l;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c&&d){n.next=2;break}return n.abrupt("return");case 2:n.prev=2,n.t0=t,n.next=n.t0===String(S.d.RecurringDynamic)?6:n.t0===String(S.d.Recurring)?8:n.t0===String(S.d.RecurringPaidTrial)?10:n.t0===String(S.d.RecurringFreeTrial)?12:(n.t0===String(S.d.SingleDynamic)||(n.t0,String(S.d.Single)),14);break;case 6:return i=b,n.abrupt("break",15);case 8:return i=u,n.abrupt("break",15);case 10:return i=h,n.abrupt("break",15);case 12:return i=p,n.abrupt("break",15);case 14:return n.abrupt("return");case 15:return n.next=17,i.estimateGas.cancelSubscription(e);case 17:return l=n.sent,r(!0),n.next=21,i.cancelSubscription(e,{gasLimit:Object(S.i)(l)}).then(function(){var n=Object(x.a)(m.a.mark((function n(t){var i,l;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"Cancel Billing Model Subscription",i=t.hash,l={subscriptionId:e},s(Object(T.a)({hash:i,from:d,chainId:c,bmCancellation:l,summary:"Cancel Billing Model Subscription"})),n.next=6,t.wait(S.g);case 6:r(!1),o(!1);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(n){throw r(!1),console.debug("Failed to cancel subscription. Reason: ".concat(n.message)),n}));case 21:return n.abrupt("return",n.sent);case 24:n.prev=24,n.t1=n.catch(2),r(!1),console.error("Failed to cancel subscription. Reason: ".concat(n.t1.message));case 28:case"end":return n.stop()}}),n,null,[[2,24]])})));return function(){return n.apply(this,arguments)}}();return Object(D.jsx)(I,{children:Object(D.jsx)(F,{className:"cancel_subs",children:Object(D.jsxs)(L,{children:[Object(D.jsx)(A,{onClick:function(){return o(!i)},children:Object(D.jsx)(z,{})}),Object(D.jsx)(E,{children:Object(D.jsx)(R,{children:Object(D.jsxs)(f.a,{gap:"md",className:"AutoColumnSub",children:[Object(D.jsx)(j.a,{title:"Cancel Subscription",id:"cancelSub"}),Object(D.jsx)("p",{id:"pOne",children:"You can cancel your subscription and prevent the merchant from charging your wallet again. Please note this cannot be undone."}),Object(D.jsx)("p",{id:"pTwo",children:"Are you sure you want to cancel this subscription?"})]})})}),Object(D.jsx)(Y,{children:Object(D.jsxs)("div",{className:"sideContent",children:[Object(D.jsxs)("div",{className:"tab-wrapper",children:[Object(D.jsxs)("p",{children:["Type the word ",Object(D.jsx)("span",{className:"XFlix",children:"CANCEL "})," in the input field below."]}),Object(D.jsx)("input",{type:"text",style:{borderColor:N?"green":"red",outlineColor:N?"green":"red"},onChange:function(n){var e=n.target.value;B("CANCEL"===e.toUpperCase())},placeholder:"Type here cancel"}),Object(D.jsxs)("span",{children:["By submitting this form, you agree with the ",Object(D.jsx)("a",{href:"#",children:"T&Cs"})]})]}),Object(D.jsx)("div",{className:"tab-footer",children:Object(D.jsxs)("div",{className:"code-copy",children:[Object(D.jsx)(v.b,{id:"CodeCopyCancelButton",onClick:function(){return o(!i)},children:"Cancel"}),Object(D.jsx)(v.b,{id:"CodeCopyOkButton",className:l?"disabled":"",disabled:l,onClick:function(){return N?W():null},children:l?Object(D.jsx)(P.a,{}):"OK"})]})})]})})]})})})};e.a=function(n){var e=n.cancelSubscriptionId,t=n.billingModelType,i=n.showCancelModal,o=n.setShowCancelModal,l=n.isLoading,r=n.setIsLoading,a=Object(w.useState)(i),d=Object(g.a)(a,2),c=d[0],s=d[1];Object(w.useEffect)((function(){s(i)}),[i]),Object(w.useEffect)((function(){o(c)}),[c]);return Object(D.jsx)(N.a,{isOpen:c,onDismiss:function(){l||s(!c)},minHeight:!1,maxHeight:90,children:c&&Object(D.jsx)(B,{cancelSubscriptionId:e,billingModelType:t,cancelSubscriptionModal:c,setCancelSubscriptionModal:s,isLoading:l,setIsLoading:r})})}},513:function(n,e,t){"use strict";var i,o=t(16),l=t(11),r=(i={},Object(o.a)(i,l.c.MATIC,"0x02777053d6764996e594c3E88AF1D58D5363a2e6"),Object(o.a)(i,l.c.MUMBAI,"0x02777053d6764996e594c3E88AF1D58D5363a2e6"),i);e.a=r}}]);
//# sourceMappingURL=3.ef72dff3.chunk.js.map
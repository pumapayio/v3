(this["webpackJsonp@pumapay/pull-payments-ui"]=this["webpackJsonp@pumapay/pull-payments-ui"]||[]).push([[15],{314:function(n,e,t){"use strict";t.d(e,"a",(function(){return o}));var i=t(23),l=t(19);function o(){var n,e=Object(l.b)().chainId,t=Object(i.d)((function(n){return n.supported_tokens}));return e&&null!==(n=t[e])&&void 0!==n?n:{}}},318:function(n,e,t){"use strict";t.d(e,"b",(function(){return l})),t.d(e,"a",(function(){return o})),t.d(e,"d",(function(){return r})),t.d(e,"c",(function(){return d}));var i=t(13),l={y:31536e3,mo:2592e3,w:604800,d:86400,h:3600,m:60,s:1},o={label:"Day(s)",periodInSeconds:86400},r=[{label:"Minute(s)",periodInSeconds:60,env:"TEST"},{label:"Hour(s)",periodInSeconds:3600,env:"TEST"},{label:"Day(s)",periodInSeconds:86400,env:"TEST,PROD"},{label:"Week(s)",periodInSeconds:604800,env:"TEST,PROD"},{label:"Month(s)",periodInSeconds:2592e3,env:"TEST,PROD"},{label:"Quarter(s)",periodInSeconds:7776e3,env:"TEST,PROD"},{label:"Year(s)",periodInSeconds:31536e3,env:"TEST,PROD"}],d=(i.c.All,i.c[i.d.Recurring],i.c[i.d.RecurringFreeTrial],i.c[i.d.RecurringPaidTrial],i.c[i.d.RecurringDynamic],i.c[i.d.Single],i.c[i.d.SingleDynamic],[{id:0,value:"Status: All"},{id:1,value:"ACTIVE"},{id:2,value:"INACTIVE"},{id:3,value:"SUSPENDED"}])},346:function(n,e,t){"use strict";t.d(e,"a",(function(){return r})),t.d(e,"c",(function(){return d})),t.d(e,"b",(function(){return c})),t.d(e,"d",(function(){return a}));var i=t(23),l=t(19),o=t(13);function r(){var n=Object(l.b)().chainId,e=Object(i.d)((function(n){return n.my_billing_models}));if(!n)return[];var t=[],r=function(i){if(!e[n]||!e[n][i])return"continue";Object.keys(e[n][i]).map((function(l,o){t.push(e[n][i][l])}))};for(var d in o.d)r(d);return t}function d(n,e){var t=Object(l.b)().chainId,o=Object(i.d)((function(n){return n.my_billing_models}));return t&&o[t]&&o[t][n]&&o[t][n][e]?o[t][n][e]:null}function c(n,e,t){var o=Object(l.b)().chainId,r=Object(i.d)((function(n){return n.my_billing_models}));return o&&r[o]&&r[o][n]&&r[o][n][e]?r[o][n][e].subscriptions.find((function(n){return n.id===t})):null}function a(n,e){var t=Object(l.b)().chainId,o=Object(i.d)((function(n){return n.my_billing_models}));return t&&o[t]&&o[t][n]&&o[t][n][e]?o[t][n][e].subscriptions:[]}},751:function(n,e,t){"use strict";t.r(e),t.d(e,"default",(function(){return D}));var i,l,o,r,d=t(4),c=t(0),a=t(312),s=t(91),u=t(156),p=t(7),b=t(155),j=t(346),x=t(26),h=t(52),f=t(81),m=t(13),g=t(19),v=t(314),O=t(135),y=t(318),S=t(1),w=p.default.div(i||(i=Object(d.a)(["\n  body {\n    color: #000;\n  }\n  display: flex;\n  align-items: center;\n  h3 {\n    font-weight: 400;\n    width: 30%;\n  }\n  .new-billing-model {\n    font-size: 14px;\n    color: #000;\n    a {\n      padding: 0px;\n      border-radius: 50%;\n      width: 32px;\n      height: 32px;\n      border: 0;\n      background: #7023ff;\n      color: #fff;\n      font-size: 26px;\n      line-height: 28px;\n      margin-left: 10px;\n      cursor: pointer;\n      text-decoration: none;\n      display: inline-block;\n      text-align: center;\n      :hover {\n        background: #9e70f5;\n      }\n    }\n  }\n  .export {\n    margin-left: 10px;\n  }\n  .csv-link {\n    padding: 10px 15px;\n    border-radius: 20px;\n    border: 1px solid #d9d9d9;\n    margin: 0 20px;\n    text-decoration: none;\n    font-size: 13px;\n    color: inherit;\n  }\n"]))),T=p.default.table(l||(l=Object(d.a)(["\n  .empty-table-row {\n    text-align: center;\n    font-size: 1rem;\n    line-height: 2rem;\n  }\n  border-collapse: collapse;\n  border-spacing: none;\n  width: 100%;\n  border: 1px solid #ddd;\n  caption-side: bottom;\n  empty-cell: show | hide;\n  empty-cell is a property of table or the cells themselves\n \nvertical-align: baseline | sub | super | text-top |\n                text-bottom | middle | top | bottom |\n                <percentage> | <length>\n \n   tbody {\n    vertical-align: top;\n  }\n  td,\n  th {\n    border: 1px solid #ccc;\n  }\n  thead tr th:nth-child(3) {\n    width: 20%;\n  }\n\n  thead tr th:nth-child(7) {\n    width: 10%;\n  }\n  td {\n    padding: 10px 10px;\n    font-size: 12px;\n    border: 1px solid #eae8ee;\n    color: #756f82;\n    :first-child {\n      border-left: none;\n    }\n    :last-child {\n      border-right: none;\n    }\n  }\n  th {\n    color: #000;\n    padding: 10px 10px;\n    font-size: 14px;\n    border: 1px solid #eae8ee;\n    text-align: left;\n    font-weight: normal;\n    :first-child {\n      border-left: none;\n    }\n    :last-child {\n      border-right: none;\n    }\n  }\n  tbody {\n    position: relative;\n  }\n\n  tbody tr {\n    background-color: #fff;\n    :hover {\n      background-color: #f7f6f9;\n    }\n  }\n  thead > tr {\n    background-color: #f7f6f9;\n  }\n  tbody > span {\n    position: absolute;\n    left: 48%;\n    top: 22px;\n  }\n"]))),k=p.default.a(o||(o=Object(d.a)(["\n  &:hover {\n    .sidebar-text {\n      color: #7023ff;\n    }\n    .default {\n      display: none;\n    }\n    .focus {\n      display: inline;\n    }\n  }\n  display: flex;\n  margin-bottom: 2px;\n  text-decoration: none;\n  .focus {\n    display: none;\n  }\n  img {\n    margin-right: 10px;\n  }\n"]))),I=["Unique Ref. ID.","Billing Model","Type","Price","Charged","Sales","Status"],M=function(n){var e,t,i,l=n.billingModels,o=Object(v.a)(),r=Object(c.useState)(y.c),d=Object(x.a)(r,2),a=d[0],s=(d[1],Object(c.useState)(m.c)),u=Object(x.a)(s,2),p=u[0],b=(u[1],Object(c.useState)("")),j=Object(x.a)(b,2),M=j[0],N=j[1],D=Object(c.useState)(!1),C=Object(x.a)(D,2),E=C[0],z=C[1],R=function(n){var e=1;return"-"===n[0]&&(e=-1,n=n.substr(1)),function(t,i){return(t[n]<i[n]?-1:t[n]>i[n]?1:0)*e}},A=Object(c.useState)(null),P=Object(x.a)(A,2),_=P[0],B=P[1],V=Object(c.useState)(null),F=Object(x.a)(V,2),U=F[0],q=F[1],J=Object(c.useState)(null),H=Object(x.a)(J,2),L=H[0],Q=H[1],W=function(n,e){"billingModelType"===n&&q(e.target.value),"currency"===n&&Q(e.target.value),"status"===n&&B(e.target.value)},Y=function(n){if(!_)return U?"All"===U?n:String(n.billingModelType)===String(U):L?"Currency All"===L?n:n.token===L:n;switch(_){case"ACTIVE":return"0"===String(n.suspendTimestamp)||null===n.suspendTimestamp||"0"===String(n.deactivationTimestamp)||null===n.deactivationTimestamp;case"INACTIVE":return Number(n.deactivationTimestamp)>0;case"SUSPENDED":return Number(n.suspendTimestamp)>0;default:return n}},G=Object(c.useState)(1),K=Object(x.a)(G,2),X=K[0],Z=K[1],$=Object(c.useState)(10),nn=Object(x.a)($,2),en=nn[0],tn=nn[1],ln=Object(c.useState)(1),on=Object(x.a)(ln,2),rn=on[0],dn=on[1];return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(w,{className:"table-top",children:[Object(S.jsx)("h3",{children:" All Billing Models"})," ",Object(S.jsxs)("p",{className:"new-billing-model",children:["Create Billing Model",Object(S.jsx)(h.b,{to:"/merchant/create/choose-billing-model-type",children:"+"})," "]}),Object(S.jsxs)("div",{className:"select-drop",children:[Object(S.jsx)("select",{onChange:function(n){return W("billingModelType",n)},children:p&&Object.keys(p).map((function(n,e){return Object(S.jsx)("option",{value:n,children:p[n]},e)}))}),Object(S.jsxs)("select",{onChange:function(n){return W("currency",n)},children:[Object(S.jsx)("option",{value:"Currency All",children:"Nominated Currency: All"}),Object.keys(o).length>0?o&&(null===(e=Object.keys(o))||void 0===e?void 0:e.map((function(n,e,t){return Object(S.jsx)("option",{value:o[n].address,children:o[n].symbol},e)}))):Object(S.jsx)("option",{children:"Loading..."})]}),Object(S.jsx)("select",{onChange:function(n){return W("status",n)},children:null===a||void 0===a?void 0:a.map((function(n,e){return Object(S.jsx)("option",{value:n.value,children:n.value},e)}))})]})]}),Object(S.jsxs)(T,{children:[Object(S.jsx)("thead",{children:Object(S.jsx)("tr",{children:I.map((function(n,e){return Object(S.jsx)("th",{onClick:function(){return function(n){"Billing Model"===n&&E?(N("name"),z(!E)):(N("-name"),z(!E))}(n)},children:n},e)}))})}),void 0===l||null===l?Object(S.jsx)("tbody",{children:Object(S.jsx)("tr",{children:Object(S.jsx)("td",{colSpan:8,children:Object(S.jsx)("div",{children:Object(S.jsx)(f.a,{className:"loader-main",size:"3rem"})})})})}):Object(S.jsx)("tbody",{children:(null===l||void 0===l||null===(t=l.sort(R(M)))||void 0===t?void 0:t.filter(Y).length)>0?function(n){var e=(rn-1)*en,t=e+en;return null===n||void 0===n?void 0:n.slice(e,t)}(null===l||void 0===l||null===(i=l.sort(R(M)))||void 0===i?void 0:i.filter(Y)).map((function(n,e){var t,i,l,r,d;return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{children:n.uniqueReference}),Object(S.jsx)("td",{children:Object(S.jsxs)(k,{className:"active",as:h.b,to:"/merchant/billing-model-details?billing-model-type=".concat(n.billingModelType,"&billing-model-id=").concat(n.id),children:[" ",Object(m.t)(n.billingModelType)?"Dynamic":n.name?n.name:"Billing Model"]})}),Object(S.jsxs)("td",{children:[" ",m.c[n.billingModelType]]}),Object(S.jsx)("td",{children:o[null===n||void 0===n?void 0:n.token]?(n.amount?n.amount/Object(g.a)(null===(t=o[null===n||void 0===n?void 0:n.token])||void 0===t?void 0:t.decimals):" PMA")+"  "+(null===(i=o[null===n||void 0===n?void 0:n.token])||void 0===i?void 0:i.symbol):"Dynamic"}),Object(S.jsx)("td",{children:Object(m.t)(m.d[n.billingModelType])?"Dynamic":(null===n||void 0===n?void 0:n.amount)/Object(g.a)(null===(l=o[null===n||void 0===n?void 0:n.token])||void 0===l?void 0:l.decimals)*(null===n||void 0===n?void 0:n.totalPayments)+" "+(null===(r=o[null===n||void 0===n?void 0:n.token])||void 0===r?void 0:r.symbol)}),Object(S.jsx)("td",{children:null===n||void 0===n||null===(d=n.subscriptionIDs)||void 0===d?void 0:d.length}),null!==n.deactivationTimestamp&&Number(n.deactivationTimestamp)>0||null!==n.suspendTimestamp&&Number(n.suspendTimestamp)>0?Object(S.jsx)(S.Fragment,{children:null!==n.deactivationTimestamp&&Number(null===n||void 0===n?void 0:n.suspendTimestamp)>0?Object(S.jsx)("td",{children:" SUSPENDED "}):Object(S.jsx)("td",{children:" INACTIVE "})}):Object(S.jsx)("td",{children:" ACTIVE "})]},e)})):Object(S.jsx)("tr",{children:Object(S.jsx)("td",{colSpan:12,children:Object(S.jsx)("div",{className:"empty-table-row",children:Object(S.jsx)("span",{children:"No Billing Models"})})})})})]}),Object(S.jsxs)("div",{className:"pagination",children:[Object(S.jsxs)("span",{children:["Show:",Object(S.jsxs)("select",{onChange:function(n){tn(parseInt(n.target.value)),dn(1)},children:[Object(S.jsx)("option",{value:"10",children:"10 Rows"}),Object(S.jsx)("option",{value:"25",children:"25 Rows"}),Object(S.jsx)("option",{value:"50",children:"50 Rows"}),Object(S.jsx)("option",{value:"100",children:"100 Rows"}),")"]})]}),Object(S.jsxs)("div",{className:"navigation",children:[Object(S.jsx)("p",{onClick:function(){1!=X&&Z(X-en),dn((function(n){return Math.max(n-1,1)}))},children:Object(S.jsx)("img",{src:O.default,alt:"arrows",id:"navigationOne"})}),Object(S.jsx)("p",{onClick:function(){var n=Math.ceil(((null===l||void 0===l?void 0:l.length)||1)/en);X+en<(null===l||void 0===l?void 0:l.length)&&Z(X+en),dn((function(e){return Math.min(e+1,n)}))},children:Object(S.jsx)("img",{src:O.default,alt:"arrows"})})]})]})]})},N=p.default.div(r||(r=Object(d.a)(['\n  color: #000;\n  &.open {\n    padding-left: 220px;\n    padding-right: 2rem;\n  }\n\n  .pagination {\n    margin-bottom: 50px;\n    display: flex;\n    justify-content: flex-end;\n    margin-top: 20px;\n\n    > span {\n      display: flex;\n      margin: auto 0;\n    }\n    select {\n      border: none;\n    }\n    .navigation {\n      display: flex;\n      p {\n        background: #ededed;\n        border-radius: 5px;\n        padding: 8px 14px;\n        margin: 0 5px;\n        #navigationOne {\n          transform: rotate(180deg);\n        }\n      }\n    }\n  }\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  padding-left: 100px;\n\n  .top-wrap {\n    margin-top: 20px;\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 50px;\n    > div:first-child {\n      width: 55%;\n      > div {\n        background-color: #fff !important;\n        color: #000 !important;\n        border: none !important;\n      }\n    }\n  }\n  .table-top .select-drop select {\n    padding: 10px;\n    border-radius: 20px;\n    border: 1px solid #d9d9d9;\n    margin: 0 20px;\n    font-size: 13px;\n  }\n  .select-drop {\n    display: flex;\n  }\n  .export {\n    white-space: nowrap;\n    font-size: 14px;\n    display: flex;\n    align-items: center;\n  }\n  table {\n    position: relative;\n  }\n  .loader-main {\n    position: relative;\n    margin: 1rem auto;\n    left: 50%;\n  }\n  span.dropdown-wrapper {\n    border: 1px solid #d9d9d9;\n    padding: 7px 20px 7px 10px;\n    border-radius: 20px;\n    position: relative;\n  }\n\n  span.dropdown-wrapper:after {\n    content: "";\n    position: absolute;\n    width: 5px;\n    height: 5px;\n    border-bottom: 1.5px solid #b1b0b0;\n    border-right: 1.5px solid #b1b0b0;\n    right: 6px;\n    top: 50%;\n    transform: translate(0, -50%) rotate(45deg);\n  }\n  .custom-dropdown {\n    position: absolute;\n    right: 10px;\n    display: flex;\n    flex-direction: column;\n    z-index: 3;\n    background: #fff;\n    padding: 10px 15px;\n    border: 1px solid #ddd;\n    top: 27px;\n  }\n  @media screen and (max-width: 1366px) {\n    .new-billing-model {\n      font-size: 11px;\n      display: flex;\n      white-space: nowrap;\n      align-items: center;\n    }\n    .table-top .select-drop select {\n      font-size: 11px;\n      padding: 7px;\n    }\n    .new-billing-model a {\n      width: 22px;\n      height: 22px;\n      font-size: 22px;\n      line-height: 21px;\n    }\n    h3 {\n      font-size: 14px;\n    }\n    .export {\n      font-size: 11px;\n    }\n  }\n'])));function D(){var n=Object(a.a)().t,e=Object(c.useContext)(b.a),t=Object(j.a)();return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(N,{className:e?" open":"",children:[Object(S.jsx)("div",{className:"top-wrap",children:Object(S.jsx)(s.a,{gap:"lg",justify:"flex-start",children:Object(S.jsx)(u.a,{title:n("billingModel"),info:n("setDescriptionForBillingModel")})})}),Object(S.jsx)(M,{billingModels:t})]})})}}}]);
//# sourceMappingURL=15.ad92a389.chunk.js.map